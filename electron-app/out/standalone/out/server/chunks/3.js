exports.id = 3;
exports.ids = [3];
exports.modules = {

/***/ 30003:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Settings: () => (/* binding */ Settings)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
var react_default = /*#__PURE__*/__webpack_require__.n(react_);
// EXTERNAL MODULE: ./app/components/settings.module.scss
var settings_module = __webpack_require__(5590);
var settings_module_default = /*#__PURE__*/__webpack_require__.n(settings_module);
// EXTERNAL MODULE: ./app/icons/reload.svg
var reload = __webpack_require__(4925);
// EXTERNAL MODULE: ./app/icons/add.svg
var add = __webpack_require__(31935);
// EXTERNAL MODULE: ./app/icons/close.svg
var icons_close = __webpack_require__(54299);
// EXTERNAL MODULE: ./app/icons/copy.svg
var copy = __webpack_require__(53231);
// EXTERNAL MODULE: ./app/icons/clear.svg
var clear = __webpack_require__(99449);
// EXTERNAL MODULE: ./app/icons/three-dots.svg
var three_dots = __webpack_require__(3076);
// EXTERNAL MODULE: ./app/icons/edit.svg
var edit = __webpack_require__(54095);
// EXTERNAL MODULE: ./app/icons/eye.svg
var eye = __webpack_require__(61221);
// EXTERNAL MODULE: ./app/icons/download.svg
var download = __webpack_require__(24624);
// EXTERNAL MODULE: ./app/icons/upload.svg
var upload = __webpack_require__(62030);
;// CONCATENATED MODULE: ./app/icons/config.svg
var _mask, _defs;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgConfig = function SvgConfig(props) {
  return /*#__PURE__*/react_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react_.createElement("g", null, _mask || (_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "config_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#config_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#config_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M13.833 4h-2a.665.665 0 0 1-.471-1.138.664.664 0 0 1 .471-.195h2a.665.665 0 0 1 .654.796.666.666 0 0 1-.654.537zM9.833 2v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V2a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .296.554z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M9.166 4H1.833a.665.665 0 0 1-.554-1.037.665.665 0 0 1 .554-.296h7.333a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.296zM4.5 8.667H1.833A.665.665 0 0 1 1.28 7.63a.665.665 0 0 1 .554-.297H4.5a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.297zM7.833 6.667v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V6.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .296.555z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M14.5 8.667H7.167a.665.665 0 0 1-.555-1.037.665.665 0 0 1 .555-.297H14.5a.665.665 0 0 1 .471 1.138.664.664 0 0 1-.471.196zM13.833 13.333h-2a.666.666 0 1 1 0-1.333h2a.666.666 0 1 1 0 1.333zM9.833 11.333V14a.665.665 0 0 1-.796.654A.666.666 0 0 1 8.5 14v-2.667a.665.665 0 0 1 1.138-.471.664.664 0 0 1 .195.471z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M9.166 13.333H1.833a.666.666 0 1 1 0-1.333h7.333a.666.666 0 1 1 0 1.333z"
  }))), _defs || (_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "config_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const icons_config = (SvgConfig);
// EXTERNAL MODULE: ./app/icons/confirm.svg
var icons_confirm = __webpack_require__(77365);
// EXTERNAL MODULE: ./app/icons/github.svg
var github = __webpack_require__(37242);
// EXTERNAL MODULE: ./app/icons/connection.svg
var connection = __webpack_require__(37028);
// EXTERNAL MODULE: ./app/icons/cloud-success.svg
var cloud_success = __webpack_require__(27994);
;// CONCATENATED MODULE: ./app/icons/cloud-fail.svg
var cloud_fail_mask, cloud_fail_defs;
function cloud_fail_extends() { cloud_fail_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return cloud_fail_extends.apply(this, arguments); }

var SvgCloudFail = function SvgCloudFail(props) {
  return /*#__PURE__*/react_.createElement("svg", cloud_fail_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react_.createElement("g", null, cloud_fail_mask || (cloud_fail_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "cloud-fail_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#cloud-fail_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#cloud-fail_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "m10.135 9.805-3.33 3.33a.667.667 0 0 1-.943-.943l3.33-3.33a.665.665 0 1 1 .943.943z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "m6.805 8.862 3.33 3.33a.67.67 0 0 1 0 .943.672.672 0 0 1-.602.182.666.666 0 0 1-.341-.182l-3.33-3.33a.665.665 0 0 1 .341-1.126.665.665 0 0 1 .602.183z"
  }))), cloud_fail_defs || (cloud_fail_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "cloud-fail_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const cloud_fail = (SvgCloudFail);
// EXTERNAL MODULE: ./app/components/ui-lib.tsx + 3 modules
var ui_lib = __webpack_require__(24552);
// EXTERNAL MODULE: ./app/components/model-config.tsx
var model_config = __webpack_require__(80663);
// EXTERNAL MODULE: ./app/components/button.tsx
var components_button = __webpack_require__(39378);
// EXTERNAL MODULE: ./app/store/index.ts + 3 modules
var store = __webpack_require__(36278);
// EXTERNAL MODULE: ./app/locales/index.ts + 19 modules
var locales = __webpack_require__(57254);
// EXTERNAL MODULE: ./app/utils.ts
var utils = __webpack_require__(92842);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(43684);
// EXTERNAL MODULE: ./app/store/prompt.ts
var store_prompt = __webpack_require__(16975);
// EXTERNAL MODULE: ./app/components/error.tsx
var error = __webpack_require__(31057);
// EXTERNAL MODULE: ./app/components/input-range.module.scss
var input_range_module = __webpack_require__(12338);
var input_range_module_default = /*#__PURE__*/__webpack_require__.n(input_range_module);
;// CONCATENATED MODULE: ./app/components/input-range.tsx



function InputRange({ onChange, title, value, className, min, max, step }) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (input_range_module_default())["input-range"] + ` ${className ?? ""}`,
        children: [
            title || value,
            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                type: "range",
                title: title,
                value: value,
                min: min,
                max: max,
                step: step,
                onChange: onChange
            })
        ]
    });
}

// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/umd/react-router-dom.production.min.js
var react_router_dom_production_min = __webpack_require__(99742);
// EXTERNAL MODULE: ./app/components/emoji.tsx + 1 modules
var emoji = __webpack_require__(85563);
// EXTERNAL MODULE: ./app/config/client.ts + 2 modules
var client = __webpack_require__(39463);
// EXTERNAL MODULE: ./app/store/sync.ts + 1 modules
var sync = __webpack_require__(83141);
// EXTERNAL MODULE: ./node_modules/nanoid/index.js + 1 modules
var nanoid = __webpack_require__(35667);
// EXTERNAL MODULE: ./app/store/mask.ts
var mask = __webpack_require__(73706);
// EXTERNAL MODULE: ./app/utils/cloud/index.ts + 2 modules
var cloud = __webpack_require__(28324);
// EXTERNAL MODULE: ./app/store/bedrock-models.ts
var bedrock_models = __webpack_require__(34342);
// EXTERNAL MODULE: ./node_modules/styled-jsx/style.js
var style = __webpack_require__(14667);
var style_default = /*#__PURE__*/__webpack_require__.n(style);
;// CONCATENATED MODULE: ./app/hooks/use-model-sync.ts


/**
 * Custom hook to automatically sync model configurations on app launch
 * This hook will:
 * 1. Load models from the store
 * 2. Check if config needs update based on version comparison
 * 3. Automatically sync if newer versions are available
 * 4. Provide sync status and manual sync capabilities
 */ function useModelSync() {
    const [syncStatus, setSyncStatus] = (0,react_.useState)("idle");
    const [syncResult, setSyncResult] = (0,react_.useState)(null);
    const hasInitialized = (0,react_.useRef)(false);
    const { models, isLoading, error, loadModels, checkConfigVersion, syncModelsWithConfig } = (0,bedrock_models.useBedrockModelsStore)();
    /**
   * Perform initial model sync check
   */ const performInitialSync = async ()=>{
        if (hasInitialized.current) {
            console.log("[ModelSync] Already initialized, skipping");
            return;
        }
        hasInitialized.current = true;
        console.log("[ModelSync] Starting initial sync check...");
        console.log("[ModelSync] Current models count:", models.length);
        console.log("[ModelSync] Store loading state:", isLoading);
        console.log("[ModelSync] Store error state:", error);
        try {
            setSyncStatus("checking");
            setSyncResult(null);
            // If no models are loaded, load them first
            if (models.length === 0) {
                console.log("[ModelSync] No models in store, loading initial configuration...");
                await loadModels();
                setSyncStatus("complete");
                setSyncResult("Initial models loaded successfully");
                return;
            }
            // Check if config needs update
            console.log("[ModelSync] Checking for model configuration updates...");
            const needsUpdate = await checkConfigVersion();
            console.log("[ModelSync] Config needs update:", needsUpdate);
            if (needsUpdate) {
                console.log("[ModelSync] Model configuration updates found, syncing...");
                setSyncStatus("syncing");
                await syncModelsWithConfig();
                setSyncStatus("complete");
                setSyncResult("Models synchronized successfully");
            } else {
                console.log("[ModelSync] Model configuration is up to date");
                setSyncStatus("complete");
                setSyncResult("Models are up to date");
            }
        } catch (error) {
            console.error("[ModelSync] Failed to sync model configuration:", error);
            setSyncStatus("error");
            setSyncResult(error instanceof Error ? error.message : "Unknown error occurred");
        }
    };
    /**
   * Manually trigger a sync check
   */ const manualSync = async ()=>{
        try {
            setSyncStatus("checking");
            setSyncResult(null);
            const needsUpdate = await checkConfigVersion();
            if (needsUpdate) {
                setSyncStatus("syncing");
                await syncModelsWithConfig();
                setSyncStatus("complete");
                setSyncResult("Manual sync completed successfully");
                return true;
            } else {
                setSyncStatus("complete");
                setSyncResult("No updates needed");
                return false;
            }
        } catch (error) {
            console.error("Manual sync failed:", error);
            setSyncStatus("error");
            setSyncResult(error instanceof Error ? error.message : "Manual sync failed");
            return false;
        }
    };
    /**
   * Force reload all models from configuration
   */ const forceSync = async ()=>{
        try {
            setSyncStatus("syncing");
            setSyncResult(null);
            await loadModels();
            setSyncStatus("complete");
            setSyncResult("Force sync completed successfully");
            return true;
        } catch (error) {
            console.error("Force sync failed:", error);
            setSyncStatus("error");
            setSyncResult(error instanceof Error ? error.message : "Force sync failed");
            return false;
        }
    };
    // Auto-sync on mount
    (0,react_.useEffect)(()=>{
        performInitialSync();
    }, []);
    // Handle loading errors
    (0,react_.useEffect)(()=>{
        if (error && syncStatus === "idle") {
            setSyncStatus("error");
            setSyncResult(error);
        }
    }, [
        error,
        syncStatus
    ]);
    return {
        syncStatus,
        syncResult,
        isLoading: isLoading || syncStatus === "checking" || syncStatus === "syncing",
        hasError: syncStatus === "error" || !!error,
        modelCount: models.length,
        manualSync,
        forceSync
    };
}
/**
 * Hook for components that just need to ensure models are loaded
 * This is a simpler version that just ensures models are available
 */ function useEnsureModelsLoaded() {
    const { models, loadModels } = useBedrockModelsStore();
    const [isInitialized, setIsInitialized] = useState(false);
    useEffect(()=>{
        const initializeModels = async ()=>{
            if (models.length === 0 && !isInitialized) {
                setIsInitialized(true);
                try {
                    await loadModels();
                } catch (error) {
                    console.error("Failed to load models:", error);
                }
            }
        };
        initializeModels();
    }, [
        models.length,
        loadModels,
        isInitialized
    ]);
    return {
        models,
        isLoaded: models.length > 0
    };
}

;// CONCATENATED MODULE: ./app/components/model-sync-status.tsx




/**
 * Component to display model sync status and provide manual sync controls
 * This component shows how to use the automatic model syncing functionality
 */ function ModelSyncStatus() {
    const { syncStatus, syncResult, isLoading, hasError, modelCount, manualSync, forceSync } = useModelSync();
    const getStatusIcon = ()=>{
        switch(syncStatus){
            case "checking":
                return "\uD83D\uDD0D";
            case "syncing":
                return "⏳";
            case "complete":
                return "✅";
            case "error":
                return "❌";
            default:
                return "⚪";
        }
    };
    const getStatusColor = ()=>{
        switch(syncStatus){
            case "checking":
            case "syncing":
                return "#1976d2";
            case "complete":
                return "#388e3c";
            case "error":
                return "#d32f2f";
            default:
                return "#666";
        }
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "jsx-e9abc25a92d87177" + " " + "model-sync-status",
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "jsx-e9abc25a92d87177" + " " + "sync-header",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h4", {
                        className: "jsx-e9abc25a92d87177",
                        children: "Model Configuration Sync"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        style: {
                            color: getStatusColor()
                        },
                        className: "jsx-e9abc25a92d87177" + " " + "status-indicator",
                        children: [
                            getStatusIcon(),
                            " ",
                            syncStatus.charAt(0).toUpperCase() + syncStatus.slice(1)
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "jsx-e9abc25a92d87177" + " " + "sync-info",
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "jsx-e9abc25a92d87177" + " " + "model-count",
                        children: [
                            "Models loaded: ",
                            modelCount
                        ]
                    }),
                    syncResult && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "jsx-e9abc25a92d87177" + " " + `sync-result ${hasError ? "error" : "success"}`,
                        children: syncResult
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "jsx-e9abc25a92d87177" + " " + "sync-controls",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        onClick: manualSync,
                        disabled: isLoading,
                        className: "jsx-e9abc25a92d87177" + " " + "sync-button",
                        children: isLoading ? "Checking..." : "Check for Updates"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        onClick: forceSync,
                        disabled: isLoading,
                        className: "jsx-e9abc25a92d87177" + " " + "sync-button force",
                        children: isLoading ? "Syncing..." : "Force Reload"
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "jsx-e9abc25a92d87177" + " " + "sync-description",
                children: /*#__PURE__*/ jsx_runtime_.jsx("small", {
                    className: "jsx-e9abc25a92d87177",
                    children: "The system automatically checks for model configuration updates when the app starts. Models are identified by UUID and updated only if their configVersion is newer."
                })
            }),
            jsx_runtime_.jsx((style_default()), {
                id: "e9abc25a92d87177",
                children: ".model-sync-status.jsx-e9abc25a92d87177{padding:20px;border:1px solid#e0e0e0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:#fafafa;max-width:500px}.sync-header.jsx-e9abc25a92d87177{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.sync-header.jsx-e9abc25a92d87177 h4.jsx-e9abc25a92d87177{margin:0;color:#333}.status-indicator.jsx-e9abc25a92d87177{font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.sync-info.jsx-e9abc25a92d87177{margin-bottom:15px}.model-count.jsx-e9abc25a92d87177{color:#666;font-size:.9em;margin-bottom:8px}.sync-result.jsx-e9abc25a92d87177{padding:8px 12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.9em}.sync-result.success.jsx-e9abc25a92d87177{background:#e8f5e8;color:#2e7d2e;border:1px solid#a5d6a7}.sync-result.error.jsx-e9abc25a92d87177{background:#ffebee;color:#c62828;border:1px solid#ef9a9a}.sync-controls.jsx-e9abc25a92d87177{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px;margin-bottom:15px}.sync-button.jsx-e9abc25a92d87177{padding:8px 16px;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:white;cursor:pointer;font-size:.9em;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.sync-button.jsx-e9abc25a92d87177:hover:not(:disabled){background:#f5f5f5;border-color:#bbb}.sync-button.jsx-e9abc25a92d87177:disabled{opacity:.6;cursor:not-allowed}.sync-button.force.jsx-e9abc25a92d87177{background:#fff3e0;border-color:#ffcc02;color:#e65100}.sync-button.force.jsx-e9abc25a92d87177:hover:not(:disabled){background:#ffe0b2}.sync-description.jsx-e9abc25a92d87177{color:#666;line-height:1.4}.sync-description.jsx-e9abc25a92d87177 small.jsx-e9abc25a92d87177{font-size:.8em}"
            })
        ]
    });
}
/**
 * Simple hook to demonstrate automatic model syncing in your main app
 * Add this to your root component or layout to enable automatic syncing
 */ function useAutoModelSync() {
    const { syncStatus, hasError, modelCount } = useModelSync();
    react_default().useEffect(()=>{
        if (syncStatus === "complete" && !hasError) {
            console.log(`✅ Model sync complete. ${modelCount} models loaded.`);
        } else if (hasError) {
            console.error("❌ Model sync failed:", syncStatus);
        }
    }, [
        syncStatus,
        hasError,
        modelCount
    ]);
    return {
        syncStatus,
        hasError,
        modelCount
    };
}

;// CONCATENATED MODULE: ./app/components/settings.tsx





































// Import new Bedrock model system


function EditPromptModal(props) {
    const promptStore = (0,store_prompt/* usePromptStore */.f)();
    const prompt = promptStore.get(props.id);
    return prompt ? /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "modal-mask",
        children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Modal */.u_, {
            title: locales/* default */.ZP.Settings.Prompt.EditModal.Title,
            onClose: props.onClose,
            actions: [
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    onClick: props.onClose,
                    text: locales/* default */.ZP.UI.Confirm,
                    bordered: true
                }, "")
            ],
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (settings_module_default())["edit-prompt-modal"],
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("input", {
                        type: "text",
                        value: prompt.title,
                        readOnly: !prompt.isUser,
                        className: (settings_module_default())["edit-prompt-title"],
                        onInput: (e)=>promptStore.updatePrompt(props.id, (prompt)=>prompt.title = e.currentTarget.value)
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Input */.II, {
                        value: prompt.content,
                        readOnly: !prompt.isUser,
                        className: (settings_module_default())["edit-prompt-content"],
                        rows: 10,
                        onInput: (e)=>promptStore.updatePrompt(props.id, (prompt)=>prompt.content = e.currentTarget.value)
                    })
                ]
            })
        })
    }) : null;
}
function UserPromptModal(props) {
    const promptStore = (0,store_prompt/* usePromptStore */.f)();
    const userPrompts = promptStore.getUserPrompts();
    const builtinPrompts = store_prompt/* SearchService */.o.builtinPrompts;
    const allPrompts = userPrompts.concat(builtinPrompts);
    const [searchInput, setSearchInput] = (0,react_.useState)("");
    const [searchPrompts, setSearchPrompts] = (0,react_.useState)([]);
    const prompts = searchInput.length > 0 ? searchPrompts : allPrompts;
    const [editingPromptId, setEditingPromptId] = (0,react_.useState)();
    (0,react_.useEffect)(()=>{
        if (searchInput.length > 0) {
            const searchResult = store_prompt/* SearchService */.o.search(searchInput);
            setSearchPrompts(searchResult);
        } else {
            setSearchPrompts([]);
        }
    }, [
        searchInput
    ]);
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "modal-mask",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Modal */.u_, {
                title: locales/* default */.ZP.Settings.Prompt.Modal.Title,
                onClose: ()=>props.onClose?.(),
                actions: [
                    /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                        onClick: ()=>{
                            const promptId = promptStore.add({
                                id: (0,nanoid/* nanoid */.x0)(),
                                createdAt: Date.now(),
                                title: "Empty Prompt",
                                content: "Empty Prompt Content"
                            });
                            setEditingPromptId(promptId);
                        },
                        icon: /*#__PURE__*/ jsx_runtime_.jsx(add/* default */.Z, {}),
                        bordered: true,
                        text: locales/* default */.ZP.Settings.Prompt.Modal.Add
                    }, "add")
                ],
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: (settings_module_default())["user-prompt-modal"],
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                            type: "text",
                            className: (settings_module_default())["user-prompt-search"],
                            placeholder: locales/* default */.ZP.Settings.Prompt.Modal.Search,
                            value: searchInput,
                            onInput: (e)=>setSearchInput(e.currentTarget.value)
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: (settings_module_default())["user-prompt-list"],
                            children: prompts.map((v, _)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: (settings_module_default())["user-prompt-item"],
                                    children: [
                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                            className: (settings_module_default())["user-prompt-header"],
                                            children: [
                                                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                    className: (settings_module_default())["user-prompt-title"],
                                                    children: v.title
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                    className: (settings_module_default())["user-prompt-content"] + " one-line",
                                                    children: v.content
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                            className: (settings_module_default())["user-prompt-buttons"],
                                            children: [
                                                v.isUser && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(clear/* default */.Z, {}),
                                                    className: (settings_module_default())["user-prompt-button"],
                                                    onClick: ()=>promptStore.remove(v.id)
                                                }),
                                                v.isUser ? /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(edit/* default */.Z, {}),
                                                    className: (settings_module_default())["user-prompt-button"],
                                                    onClick: ()=>setEditingPromptId(v.id)
                                                }) : /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(eye/* default */.Z, {}),
                                                    className: (settings_module_default())["user-prompt-button"],
                                                    onClick: ()=>setEditingPromptId(v.id)
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(copy/* default */.Z, {}),
                                                    className: (settings_module_default())["user-prompt-button"],
                                                    onClick: ()=>(0,utils/* copyToClipboard */.vQ)(v.content)
                                                })
                                            ]
                                        })
                                    ]
                                }, v.id ?? v.title))
                        })
                    ]
                })
            }),
            editingPromptId !== undefined && /*#__PURE__*/ jsx_runtime_.jsx(EditPromptModal, {
                id: editingPromptId,
                onClose: ()=>setEditingPromptId(undefined)
            })
        ]
    });
}
function DangerItems() {
    const chatStore = (0,store/* useChatStore */.aK)();
    const appConfig = (0,store/* useAppConfig */.MG)();
    const bedrockModelsStore = (0,bedrock_models.useBedrockModelsStore)();
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: locales/* default */.ZP.Settings.Danger.Reset.Title,
                subTitle: locales/* default */.ZP.Settings.Danger.Reset.SubTitle,
                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.Settings.Danger.Reset.Action,
                    onClick: async ()=>{
                        if (await (0,ui_lib/* showConfirm */.i0)(locales/* default */.ZP.Settings.Danger.Reset.Confirm)) {
                            console.log("[Settings] Resetting all configurations...");
                            // Reset all stores first
                            appConfig.reset();
                            bedrockModelsStore.reset();
                            // After reset, load models and apply all suggestion settings
                            console.log("[Settings] Loading models and applying suggestion settings...");
                            try {
                                // Load models first (since reset cleared them)
                                await bedrockModelsStore.loadModels();
                                // Now apply suggestions to all active models
                                const activeModels = bedrockModelsStore.getActiveModels();
                                let appliedCount = 0;
                                for (const model of activeModels){
                                    const suggestions = bedrockModelsStore.applySuggestionSettingsIfNew(model.modelId);
                                    if (suggestions && Object.keys(suggestions).length > 0) {
                                        appliedCount++;
                                        console.log(`[Settings] Applied ${Object.keys(suggestions).length} suggestions for ${model.modelName}:`, suggestions);
                                    }
                                }
                                console.log(`[Settings] All configurations reset successfully. Applied suggestions to ${appliedCount} models.`);
                                (0,ui_lib/* showToast */.CF)(`All settings reset and suggestion settings applied to ${appliedCount} models`);
                            } catch (error) {
                                console.error("[Settings] Error during reset and suggestion application:", error);
                                (0,ui_lib/* showToast */.CF)("Settings reset successfully, but some suggestion settings could not be applied");
                            }
                        }
                    },
                    type: "danger"
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: locales/* default */.ZP.Settings.Danger.Clear.Title,
                subTitle: locales/* default */.ZP.Settings.Danger.Clear.SubTitle,
                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.Settings.Danger.Clear.Action,
                    onClick: async ()=>{
                        if (await (0,ui_lib/* showConfirm */.i0)(locales/* default */.ZP.Settings.Danger.Clear.Confirm)) {
                            chatStore.clearAllData();
                        }
                    },
                    type: "danger"
                })
            })
        ]
    });
}
function BedrockModelSettings() {
    const { models, selectedModelId, isLoading, error, getActiveModels, getModelsByProvider, setSelectedModel, checkConfigVersion, syncModelsWithConfig, getModelById, getSupportedParameters, getSuggestionSettings, applySuggestionSettingsIfNew, getCurrentParameterValues, updateParameterValue, resetParameterToSuggestion, getParameterType, getParameterConstraints, getModelParameters, hasCustomParameters, resetAllParametersToSuggestion, clearModelParameters, getPreferRegion, setPreferRegion, clearPreferRegion } = (0,bedrock_models.useBedrockModelsStore)();
    const [checkingUpdates, setCheckingUpdates] = (0,react_.useState)(false);
    const [debugInfo, setDebugInfo] = (0,react_.useState)("");
    const activeModels = getActiveModels();
    const modelsByProvider = getModelsByProvider();
    // Debug logging
    (0,react_.useEffect)(()=>{
        console.log("[BedrockModelSettings] Store state update:", {
            modelsCount: models.length,
            activeModelsCount: activeModels.length,
            isLoading,
            error,
            selectedModelId
        });
        console.log("[BedrockModelSettings] Models by provider:", modelsByProvider);
    }, [
        models,
        activeModels,
        isLoading,
        error,
        selectedModelId,
        modelsByProvider
    ]);
    // Test HTTP access to the JSON file
    const testJsonAccess = async ()=>{
        try {
            console.log("[BedrockModelSettings] Testing JSON file access...");
            const response = await fetch("/ddconfig/default_models.json");
            const status = `HTTP ${response.status} ${response.statusText}`;
            console.log("[BedrockModelSettings] JSON access test:", status);
            if (response.ok) {
                const text = await response.text();
                setDebugInfo(`✅ JSON accessible - ${status} - ${text.length} bytes`);
            } else {
                setDebugInfo(`❌ JSON not accessible - ${status}`);
            }
        } catch (error) {
            const errorMsg = `❌ Network error: ${error instanceof Error ? error.message : "Unknown"}`;
            console.error("[BedrockModelSettings] JSON access test failed:", error);
            setDebugInfo(errorMsg);
        }
    };
    const handleCheckUpdates = async ()=>{
        console.log("[BedrockModelSettings] Checking for updates manually...");
        setCheckingUpdates(true);
        try {
            const needsUpdate = await checkConfigVersion();
            console.log("[BedrockModelSettings] Manual check - needs update:", needsUpdate);
            if (needsUpdate) {
                await syncModelsWithConfig();
                (0,ui_lib/* showToast */.CF)("Model configurations updated successfully");
            } else {
                (0,ui_lib/* showToast */.CF)("Model configurations are up to date");
            }
        } catch (error) {
            console.error("[BedrockModelSettings] Manual update check failed:", error);
            (0,ui_lib/* showToast */.CF)("Failed to check for model updates");
            console.error("Model update check failed:", error);
        } finally{
            setCheckingUpdates(false);
        }
    };
    // Helper function to render parameter input based on type
    const renderParameterInput = (paramName, value, suggestionValue, uuid)=>{
        const paramType = getParameterType(paramName);
        const constraints = getParameterConstraints(paramName);
        const isCustomValue = value !== suggestionValue;
        switch(paramType){
            case "number":
                if (constraints.min !== undefined && constraints.max !== undefined) {
                    // Use InputRange for numeric parameters with known ranges
                    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            gap: "8px"
                        },
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(InputRange, {
                                title: `${value?.toFixed(2) ?? suggestionValue?.toFixed(2) ?? "0"}`,
                                value: value ?? suggestionValue ?? constraints.min,
                                min: constraints.min.toString(),
                                max: constraints.max.toString(),
                                step: constraints.step?.toString() ?? "0.01",
                                onChange: (e)=>{
                                    const newValue = e.currentTarget.valueAsNumber;
                                    updateParameterValue(uuid, paramName, newValue);
                                }
                            }),
                            isCustomValue && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                title: "Reset to suggested value",
                                onClick: ()=>resetParameterToSuggestion(uuid, paramName)
                            })
                        ]
                    });
                } else {
                    // Use regular number input for parameters without known ranges
                    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            gap: "8px"
                        },
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "number",
                                value: value ?? suggestionValue ?? "",
                                min: constraints.min,
                                max: constraints.max,
                                step: constraints.step ?? "any",
                                onChange: (e)=>{
                                    const newValue = e.currentTarget.valueAsNumber;
                                    if (!isNaN(newValue)) {
                                        updateParameterValue(uuid, paramName, newValue);
                                    }
                                },
                                style: {
                                    width: "100px"
                                }
                            }),
                            isCustomValue && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                title: "Reset to suggested value",
                                onClick: ()=>resetParameterToSuggestion(uuid, paramName)
                            })
                        ]
                    });
                }
            case "boolean":
                return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        gap: "8px"
                    },
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                            type: "checkbox",
                            checked: value ?? suggestionValue ?? false,
                            onChange: (e)=>{
                                updateParameterValue(uuid, paramName, e.currentTarget.checked);
                            }
                        }),
                        isCustomValue && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                            icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                            title: "Reset to suggested value",
                            onClick: ()=>resetParameterToSuggestion(uuid, paramName)
                        })
                    ]
                });
            default:
                return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        gap: "8px"
                    },
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                            type: "text",
                            value: value ?? suggestionValue ?? "",
                            onChange: (e)=>{
                                updateParameterValue(uuid, paramName, e.currentTarget.value);
                            },
                            style: {
                                minWidth: "150px"
                            }
                        }),
                        isCustomValue && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                            icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                            title: "Reset to suggested value",
                            onClick: ()=>resetParameterToSuggestion(uuid, paramName)
                        })
                    ]
                });
        }
    };
    console.log("[BedrockModelSettings] Rendering with:", {
        modelsCount: models.length,
        activeModelsCount: activeModels.length,
        isLoading,
        error
    });
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: "Bedrock Model Configuration",
                subTitle: `${activeModels.length} active models available`,
                children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    style: {
                        display: "flex",
                        gap: "8px"
                    },
                    children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                        icon: checkingUpdates ? /*#__PURE__*/ jsx_runtime_.jsx(three_dots/* default */.Z, {}) : /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                        text: checkingUpdates ? "Checking..." : "Check Updates",
                        onClick: handleCheckUpdates,
                        disabled: checkingUpdates
                    })
                })
            }),
            error && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: "Model Loading Error",
                subTitle: error,
                children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    style: {
                        color: "#d32f2f",
                        fontSize: "0.9em"
                    },
                    children: "Failed to load model configurations"
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: "Selected Model",
                subTitle: selectedModelId || "No model selected",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* Select */.Ph, {
                    value: selectedModelId || "",
                    onChange: (e)=>{
                        if (e.target.value) {
                            setSelectedModel(e.target.value);
                        }
                    },
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("option", {
                            value: "",
                            children: "-- Select a Bedrock Model --"
                        }),
                        Object.entries(modelsByProvider).map(([provider, providerModels])=>/*#__PURE__*/ jsx_runtime_.jsx("optgroup", {
                                label: provider,
                                children: providerModels.map((model)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("option", {
                                        value: model.modelId,
                                        children: [
                                            model.modelName,
                                            model.isReasoningModel && " (Reasoning)",
                                            model.inputModalities.includes("IMAGE") && " (Vision)"
                                        ]
                                    }, model.modelId))
                            }, provider))
                    ]
                })
            }),
            selectedModelId && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: "Preferred Region",
                subTitle: `Custom region for ${getModelById(selectedModelId)?.modelName || "this model"} (optional)`,
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        gap: "8px"
                    },
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                            type: "text",
                            value: getPreferRegion(getModelById(selectedModelId)?.uuid || "") || "",
                            placeholder: `Default: ${store/* useAccessStore */._X.getState().awsRegion || "us-west-2"}`,
                            onChange: (e)=>{
                                const selectedModel = getModelById(selectedModelId);
                                if (!selectedModel) return;
                                const region = e.target.value.trim();
                                if (region) {
                                    setPreferRegion(selectedModel.uuid, region);
                                } else {
                                    clearPreferRegion(selectedModel.uuid);
                                }
                            },
                            style: {
                                minWidth: "150px"
                            }
                        }),
                        getPreferRegion(getModelById(selectedModelId)?.uuid || "") && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                            icon: /*#__PURE__*/ jsx_runtime_.jsx(clear/* default */.Z, {}),
                            title: "Clear custom region (use default)",
                            onClick: ()=>{
                                const selectedModel = getModelById(selectedModelId);
                                if (selectedModel) {
                                    clearPreferRegion(selectedModel.uuid);
                                }
                            }
                        })
                    ]
                })
            }),
            selectedModelId && /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
                children: (()=>{
                    const selectedModel = getModelById(selectedModelId);
                    if (!selectedModel) return null;
                    const supportedParams = getSupportedParameters(selectedModelId);
                    const suggestionSettings = getSuggestionSettings(selectedModelId);
                    const currentValues = getCurrentParameterValues(selectedModel.uuid);
                    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                        children: [
                            supportedParams.length > 0 && supportedParams.map((param)=>{
                                const currentValue = currentValues[param];
                                const suggestionValue = suggestionSettings[param];
                                const hasCustomValue = getModelParameters(selectedModel.uuid)[param] !== undefined;
                                return /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                    title: `${param}${hasCustomValue ? " (custom)" : ""}`,
                                    subTitle: "Parameter Setting",
                                    children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        style: {
                                            display: "flex",
                                            justifyContent: "flex-end"
                                        },
                                        children: renderParameterInput(param, currentValue, suggestionValue, selectedModel.uuid)
                                    })
                                }, param);
                            }),
                            supportedParams.length > 0 && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                style: {
                                    fontSize: "0.8em",
                                    color: "#888",
                                    margin: "8px 16px"
                                },
                                children: '\uD83D\uDCA1 Parameter values are saved per model. Blue "(custom)" indicates you\'ve modified the suggested value for this specific model.'
                            }),
                            supportedParams.length > 0 && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: "Parameter Management",
                                subTitle: `Manage parameter settings for ${selectedModel?.modelName}`,
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    style: {
                                        display: "flex",
                                        gap: "8px",
                                        flexWrap: "wrap"
                                    },
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                            icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                            text: "Apply All Suggestions",
                                            onClick: ()=>{
                                                const success = resetAllParametersToSuggestion(selectedModel.uuid);
                                                if (success) {
                                                    (0,ui_lib/* showToast */.CF)(`Applied all suggested settings for ${selectedModel?.modelName}`);
                                                } else {
                                                    (0,ui_lib/* showToast */.CF)("No suggestions available to apply");
                                                }
                                            },
                                            bordered: true
                                        }),
                                        hasCustomParameters(selectedModel.uuid) && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                            icon: /*#__PURE__*/ jsx_runtime_.jsx(clear/* default */.Z, {}),
                                            text: "Clear Custom Settings",
                                            onClick: async ()=>{
                                                if (await (0,ui_lib/* showConfirm */.i0)(`Clear all custom parameter settings for ${selectedModel?.modelName}? This will revert to suggestion values only.`)) {
                                                    clearModelParameters(selectedModel.uuid);
                                                    (0,ui_lib/* showToast */.CF)(`Cleared custom settings for ${selectedModel?.modelName}`);
                                                }
                                            },
                                            type: "danger",
                                            bordered: true
                                        })
                                    ]
                                })
                            })
                        ]
                    });
                })()
            }),
            isLoading && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                title: "Loading Models",
                subTitle: "Synchronizing model configurations...",
                children: /*#__PURE__*/ jsx_runtime_.jsx(three_dots/* default */.Z, {})
            })
        ]
    });
}
function CheckButton() {
    const syncStore = (0,sync/* useSyncStore */.i)();
    const couldCheck = (0,react_.useMemo)(()=>{
        return syncStore.cloudSync();
    }, [
        syncStore
    ]);
    const [checkState, setCheckState] = (0,react_.useState)("none");
    async function check() {
        setCheckState("checking");
        const valid = await syncStore.check();
        setCheckState(valid ? "success" : "failed");
    }
    if (!couldCheck) return null;
    return /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
        text: locales/* default */.ZP.Settings.Sync.Config.Modal.Check,
        bordered: true,
        onClick: check,
        icon: checkState === "none" ? /*#__PURE__*/ jsx_runtime_.jsx(connection/* default */.Z, {}) : checkState === "checking" ? /*#__PURE__*/ jsx_runtime_.jsx(three_dots/* default */.Z, {}) : checkState === "success" ? /*#__PURE__*/ jsx_runtime_.jsx(cloud_success/* default */.Z, {}) : checkState === "failed" ? /*#__PURE__*/ jsx_runtime_.jsx(cloud_fail, {}) : /*#__PURE__*/ jsx_runtime_.jsx(connection/* default */.Z, {})
    });
}
function SyncConfigModal(props) {
    const syncStore = (0,sync/* useSyncStore */.i)();
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "modal-mask",
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* Modal */.u_, {
            title: locales/* default */.ZP.Settings.Sync.Config.Modal.Title,
            onClose: ()=>props.onClose?.(),
            actions: [
                /*#__PURE__*/ jsx_runtime_.jsx(CheckButton, {}, "check"),
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    onClick: props.onClose,
                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_confirm/* default */.Z, {}),
                    bordered: true,
                    text: locales/* default */.ZP.UI.Confirm
                }, "confirm")
            ],
            children: [
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.SyncType.Title,
                            subTitle: locales/* default */.ZP.Settings.Sync.Config.SyncType.SubTitle,
                            children: /*#__PURE__*/ jsx_runtime_.jsx("select", {
                                value: syncStore.provider,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.provider = e.target.value);
                                },
                                children: Object.entries(cloud/* ProviderType */.lP).map(([k, v])=>/*#__PURE__*/ jsx_runtime_.jsx("option", {
                                        value: v,
                                        children: k
                                    }, k))
                            })
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.Proxy.Title,
                            subTitle: locales/* default */.ZP.Settings.Sync.Config.Proxy.SubTitle,
                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "checkbox",
                                checked: syncStore.useProxy,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.useProxy = e.currentTarget.checked);
                                }
                            })
                        }),
                        syncStore.useProxy ? /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.ProxyUrl.Title,
                            subTitle: locales/* default */.ZP.Settings.Sync.Config.ProxyUrl.SubTitle,
                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "text",
                                value: syncStore.proxyUrl,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.proxyUrl = e.currentTarget.value);
                                }
                            })
                        }) : null
                    ]
                }),
                syncStore.provider === cloud/* ProviderType */.lP.WebDAV && /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Sync.Config.WebDav.Endpoint,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "text",
                                    value: syncStore.webdav.endpoint,
                                    onChange: (e)=>{
                                        syncStore.update((config)=>config.webdav.endpoint = e.currentTarget.value);
                                    }
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Sync.Config.WebDav.UserName,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "text",
                                    value: syncStore.webdav.username,
                                    onChange: (e)=>{
                                        syncStore.update((config)=>config.webdav.username = e.currentTarget.value);
                                    }
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Sync.Config.WebDav.Password,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                    value: syncStore.webdav.password,
                                    onChange: (e)=>{
                                        syncStore.update((config)=>config.webdav.password = e.currentTarget.value);
                                    }
                                })
                            })
                        ]
                    })
                }),
                syncStore.provider === cloud/* ProviderType */.lP.UpStash && /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.UpStash.Endpoint,
                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "text",
                                value: syncStore.upstash.endpoint,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.upstash.endpoint = e.currentTarget.value);
                                }
                            })
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.UpStash.UserName,
                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "text",
                                value: syncStore.upstash.username,
                                placeholder: constant/* STORAGE_KEY */.Uf,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.upstash.username = e.currentTarget.value);
                                }
                            })
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: locales/* default */.ZP.Settings.Sync.Config.UpStash.Password,
                            children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                value: syncStore.upstash.apiKey,
                                onChange: (e)=>{
                                    syncStore.update((config)=>config.upstash.apiKey = e.currentTarget.value);
                                }
                            })
                        })
                    ]
                })
            ]
        })
    });
}
function SyncItems() {
    const syncStore = (0,sync/* useSyncStore */.i)();
    const chatStore = (0,store/* useChatStore */.aK)();
    const promptStore = (0,store_prompt/* usePromptStore */.f)();
    const maskStore = (0,mask/* useMaskStore */.Zy)();
    const couldSync = (0,react_.useMemo)(()=>{
        return syncStore.cloudSync();
    }, [
        syncStore
    ]);
    const [showSyncConfigModal, setShowSyncConfigModal] = (0,react_.useState)(false);
    const stateOverview = (0,react_.useMemo)(()=>{
        const sessions = chatStore.sessions;
        const messageCount = sessions.reduce((p, c)=>p + c.messages.length, 0);
        return {
            chat: sessions.length,
            message: messageCount,
            prompt: Object.keys(promptStore.prompts).length,
            mask: Object.keys(maskStore.masks).length
        };
    }, [
        chatStore.sessions,
        maskStore.masks,
        promptStore.prompts
    ]);
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                        title: locales/* default */.ZP.Settings.Sync.CloudState,
                        subTitle: syncStore.lastProvider ? `${new Date(syncStore.lastSyncTime).toLocaleString()} [${syncStore.lastProvider}]` : locales/* default */.ZP.Settings.Sync.NotSyncYet,
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            style: {
                                display: "flex"
                            },
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_config, {}),
                                    text: locales/* default */.ZP.UI.Config,
                                    onClick: ()=>{
                                        setShowSyncConfigModal(true);
                                    }
                                }),
                                couldSync && /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                    text: locales/* default */.ZP.UI.Sync,
                                    onClick: async ()=>{
                                        try {
                                            await syncStore.sync();
                                            (0,ui_lib/* showToast */.CF)(locales/* default */.ZP.Settings.Sync.Success);
                                        } catch (e) {
                                            (0,ui_lib/* showToast */.CF)(locales/* default */.ZP.Settings.Sync.Fail);
                                            console.error("[Sync]", e);
                                        }
                                    }
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                        title: locales/* default */.ZP.Settings.Sync.LocalState,
                        subTitle: locales/* default */.ZP.Settings.Sync.Overview(stateOverview),
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            style: {
                                display: "flex"
                            },
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(upload/* default */.Z, {}),
                                    text: locales/* default */.ZP.UI.Export,
                                    onClick: ()=>{
                                        syncStore.export();
                                    }
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(download/* default */.Z, {}),
                                    text: locales/* default */.ZP.UI.Import,
                                    onClick: ()=>{
                                        syncStore.import();
                                    }
                                })
                            ]
                        })
                    })
                ]
            }),
            showSyncConfigModal && /*#__PURE__*/ jsx_runtime_.jsx(SyncConfigModal, {
                onClose: ()=>setShowSyncConfigModal(false)
            })
        ]
    });
}
function Settings() {
    const navigate = (0,react_router_dom_production_min.useNavigate)();
    const [showEmojiPicker, setShowEmojiPicker] = (0,react_.useState)(false);
    const config = (0,store/* useAppConfig */.MG)();
    const updateConfig = config.update;
    // Auto-sync Bedrock models on component mount
    useAutoModelSync();
    const updateStore = (0,store/* useUpdateStore */.u2)();
    const [checkingUpdate, setCheckingUpdate] = (0,react_.useState)(false);
    const currentVersion = updateStore.formatVersion(updateStore.version);
    const remoteId = updateStore.formatVersion(updateStore.remoteVersion);
    const hasNewVersion = currentVersion !== remoteId;
    const updateUrl = (0,client/* getClientConfig */.Z)()?.isApp ? constant/* RELEASE_URL */.cr : constant/* UPDATE_URL */.Cs;
    function checkUpdate(force = false) {
        setCheckingUpdate(true);
        updateStore.getLatestVersion(force).then(()=>{
            setCheckingUpdate(false);
        });
        console.log("[Update] local version ", updateStore.version);
        console.log("[Update] remote version ", updateStore.remoteVersion);
    }
    const accessStore = (0,store/* useAccessStore */._X)();
    const shouldHideBalanceQuery = (0,react_.useMemo)(()=>{
        const isOpenAiUrl = accessStore.openaiUrl.includes(constant/* OPENAI_BASE_URL */.Bi);
        return accessStore.hideBalanceQuery || isOpenAiUrl || accessStore.provider === constant/* ServiceProvider */.UT.Azure;
    }, [
        accessStore.hideBalanceQuery,
        accessStore.openaiUrl,
        accessStore.provider
    ]);
    const usage = {
        used: updateStore.used,
        subscription: updateStore.subscription
    };
    const [loadingUsage, setLoadingUsage] = (0,react_.useState)(false);
    function checkUsage(force = false) {
        if (shouldHideBalanceQuery) {
            return;
        }
        setLoadingUsage(true);
        updateStore.updateUsage(force).finally(()=>{
            setLoadingUsage(false);
        });
    }
    const enabledAccessControl = (0,react_.useMemo)(()=>accessStore.enabledAccessControl(), // eslint-disable-next-line react-hooks/exhaustive-deps
    []);
    const promptStore = (0,store_prompt/* usePromptStore */.f)();
    const builtinCount = store_prompt/* SearchService */.o.count.builtin;
    const customCount = promptStore.getUserPrompts().length ?? 0;
    const [shouldShowPromptModal, setShowPromptModal] = (0,react_.useState)(false);
    // Add state for showing model sync status
    const [showModelSyncStatus, setShowModelSyncStatus] = (0,react_.useState)(false);
    const showUsage = accessStore.isAuthorized();
    (0,react_.useEffect)(()=>{
        // checks per minutes
        // checkUpdate();
        showUsage && checkUsage();
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    (0,react_.useEffect)(()=>{
        const keydownEvent = (e)=>{
            if (e.key === "Escape") {
                navigate(constant/* Path */.y$.Home);
            }
        };
        if (clientConfig?.isApp) {
            // Force to set custom endpoint to true if it's app
            accessStore.update((state)=>{
                state.useCustomConfig = true;
            });
        }
        document.addEventListener("keydown", keydownEvent);
        return ()=>{
            document.removeEventListener("keydown", keydownEvent);
        };
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    const clientConfig = (0,react_.useMemo)(()=>(0,client/* getClientConfig */.Z)(), []);
    const showAccessCode = enabledAccessControl && !clientConfig?.isApp;
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(error/* ErrorBoundary */.S, {
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "window-header",
                "data-tauri-drag-region": true,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "window-header-title",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "window-header-main-title",
                                children: locales/* default */.ZP.Settings.Title
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "window-header-sub-title",
                                children: locales/* default */.ZP.Settings.SubTitle
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "window-actions",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "window-action-button"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "window-action-button"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "window-action-button",
                                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_close/* default */.Z, {}),
                                    onClick: ()=>navigate(constant/* Path */.y$.Home),
                                    bordered: true
                                })
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (settings_module_default()).settings,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Avatar,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Popover */.J2, {
                                    onClose: ()=>setShowEmojiPicker(false),
                                    content: /*#__PURE__*/ jsx_runtime_.jsx(emoji/* AvatarPicker */.aR, {
                                        onEmojiClick: (avatar)=>{
                                            updateConfig((config)=>config.avatar = avatar);
                                            setShowEmojiPicker(false);
                                        }
                                    }),
                                    open: showEmojiPicker,
                                    children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        className: (settings_module_default()).avatar,
                                        onClick: ()=>setShowEmojiPicker(true),
                                        children: /*#__PURE__*/ jsx_runtime_.jsx(emoji/* Avatar */.qE, {
                                            avatar: config.avatar
                                        })
                                    })
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.SendKey,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Select */.Ph, {
                                    value: config.submitKey,
                                    onChange: (e)=>{
                                        updateConfig((config)=>config.submitKey = e.target.value);
                                    },
                                    children: Object.values(store/* SubmitKey */.mQ).map((v)=>/*#__PURE__*/ jsx_runtime_.jsx("option", {
                                            value: v,
                                            children: v
                                        }, v))
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Theme,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Select */.Ph, {
                                    value: config.theme,
                                    onChange: (e)=>{
                                        updateConfig((config)=>config.theme = e.target.value);
                                    },
                                    children: Object.values(store/* Theme */.Q2).map((v)=>/*#__PURE__*/ jsx_runtime_.jsx("option", {
                                            value: v,
                                            children: v
                                        }, v))
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Lang.Name,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* Select */.Ph, {
                                    value: (0,locales/* getLang */.VQ)(),
                                    onChange: (e)=>{
                                        (0,locales/* changeLang */.t4)(e.target.value);
                                    },
                                    children: locales/* AllLangs */.DC.map((lang)=>/*#__PURE__*/ jsx_runtime_.jsx("option", {
                                            value: lang,
                                            children: locales/* ALL_LANG_OPTIONS */.nW[lang]
                                        }, lang))
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.FontSize.Title,
                                subTitle: locales/* default */.ZP.Settings.FontSize.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(InputRange, {
                                    title: `${config.fontSize ?? 14}px`,
                                    value: config.fontSize,
                                    min: "12",
                                    max: "40",
                                    step: "1",
                                    onChange: (e)=>updateConfig((config)=>config.fontSize = Number.parseInt(e.currentTarget.value))
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.AutoGenerateTitle.Title,
                                subTitle: locales/* default */.ZP.Settings.AutoGenerateTitle.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: config.enableAutoGenerateTitle,
                                    onChange: (e)=>updateConfig((config)=>config.enableAutoGenerateTitle = e.currentTarget.checked)
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.SendPreviewBubble.Title,
                                subTitle: locales/* default */.ZP.Settings.SendPreviewBubble.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: config.sendPreviewBubble,
                                    onChange: (e)=>updateConfig((config)=>config.sendPreviewBubble = e.currentTarget.checked)
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Metrics.Title,
                                subTitle: locales/* default */.ZP.Settings.Metrics.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: config.metrics,
                                    onChange: (e)=>updateConfig((config)=>config.metrics = e.currentTarget.checked)
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(SyncItems, {}),
                    /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* List */.aV, {
                        children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                            title: "Model Sync Status",
                            subTitle: "Bedrock model configuration synchronization",
                            children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                icon: showModelSyncStatus ? /*#__PURE__*/ jsx_runtime_.jsx(icons_close/* default */.Z, {}) : /*#__PURE__*/ jsx_runtime_.jsx(icons_config, {}),
                                text: showModelSyncStatus ? "Hide" : "Show Status",
                                onClick: ()=>setShowModelSyncStatus(!showModelSyncStatus)
                            })
                        })
                    }),
                    showModelSyncStatus && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        style: {
                            margin: "16px 0"
                        },
                        children: /*#__PURE__*/ jsx_runtime_.jsx(ModelSyncStatus, {})
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Mask.Splash.Title,
                                subTitle: locales/* default */.ZP.Settings.Mask.Splash.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: !config.dontShowMaskSplashScreen,
                                    onChange: (e)=>updateConfig((config)=>config.dontShowMaskSplashScreen = !e.currentTarget.checked)
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Mask.Builtin.Title,
                                subTitle: locales/* default */.ZP.Settings.Mask.Builtin.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: config.hideBuiltinMasks,
                                    onChange: (e)=>updateConfig((config)=>config.hideBuiltinMasks = e.currentTarget.checked)
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Prompt.Disable.Title,
                                subTitle: locales/* default */.ZP.Settings.Prompt.Disable.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "checkbox",
                                    checked: config.disablePromptHint,
                                    onChange: (e)=>updateConfig((config)=>config.disablePromptHint = e.currentTarget.checked)
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Prompt.List,
                                subTitle: locales/* default */.ZP.Settings.Prompt.ListCount(builtinCount, customCount),
                                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(edit/* default */.Z, {}),
                                    text: locales/* default */.ZP.Settings.Prompt.Edit,
                                    onClick: ()=>setShowPromptModal(true)
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* List */.aV, {
                        id: constant/* SlotID */.ym.CustomModel,
                        children: [
                            showAccessCode && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Access.AccessCode.Title,
                                subTitle: locales/* default */.ZP.Settings.Access.AccessCode.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                    value: accessStore.accessCode,
                                    type: "text",
                                    placeholder: locales/* default */.ZP.Settings.Access.AccessCode.Placeholder,
                                    onChange: (e)=>{
                                        accessStore.update((access)=>access.accessCode = e.currentTarget.value);
                                    }
                                })
                            }),
                            !accessStore.hideUserApiKey && /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                children: [
                                    // Conditionally render the following ListItem based on clientConfig.isApp
                                    !clientConfig?.isApp && /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                        title: locales/* default */.ZP.Settings.Access.CustomEndpoint.Title,
                                        subTitle: locales/* default */.ZP.Settings.Access.CustomEndpoint.SubTitle
                                    }),
                                    accessStore.useCustomConfig && /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
                                        children: accessStore.provider === "AWS" && !accessStore.awsCognitoUser ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                            children: [
                                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.BRProxy.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.BRProxy.SubTitle,
                                                    children: [
                                                        /*#__PURE__*/ jsx_runtime_.jsx("a", {
                                                            href: "https://github.com/aws-samples/sample-connector-for-bedrock",
                                                            target: "_blank",
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                                                text: "BRConnector",
                                                                icon: /*#__PURE__*/ jsx_runtime_.jsx(github/* default */.Z, {}),
                                                                bordered: true
                                                            })
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                            type: "checkbox",
                                                            checked: accessStore.useBRProxy === "True",
                                                            onChange: (e)=>accessStore.update((access)=>{
                                                                    access.useBRProxy = e.currentTarget.checked ? "True" : "False";
                                                                })
                                                        })
                                                    ]
                                                }),
                                                accessStore.useBRProxy === "False" ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                                    children: [
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.BedRockEndpoint.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.BedRockEndpoint.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                                type: "text",
                                                                value: accessStore.bedrockEndpoint,
                                                                onChange: (e)=>accessStore.update((access)=>access.bedrockEndpoint = e.currentTarget.value)
                                                            })
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.Region.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.Region.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                                type: "text",
                                                                value: accessStore.awsRegion,
                                                                placeholder: locales/* default */.ZP.Settings.Access.AWS.Region.Placeholder,
                                                                onChange: (e)=>accessStore.update((access)=>access.awsRegion = e.currentTarget.value)
                                                            })
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.AccessKey.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.AccessKey.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                                value: accessStore.awsAccessKeyId,
                                                                type: "text",
                                                                placeholder: locales/* default */.ZP.Settings.Access.AWS.AccessKey.Placeholder,
                                                                onChange: (e)=>{
                                                                    accessStore.update((access)=>access.awsAccessKeyId = e.currentTarget.value);
                                                                }
                                                            })
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.SecretKey.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.SecretKey.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                                value: accessStore.awsSecretAccessKey,
                                                                type: "text",
                                                                placeholder: locales/* default */.ZP.Settings.Access.AWS.SecretKey.Placeholder,
                                                                onChange: (e)=>{
                                                                    accessStore.update((access)=>access.awsSecretAccessKey = e.currentTarget.value);
                                                                }
                                                            })
                                                        })
                                                    ]
                                                }) : accessStore.useBRProxy === "True" ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                                    children: [
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.Endpoint.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.Endpoint.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                                type: "text",
                                                                value: accessStore.BRProxyUrl,
                                                                placeholder: constant/* BRProxy */.PM.ExampleEndpoint,
                                                                onChange: (e)=>accessStore.update((access)=>access.BRProxyUrl = e.currentTarget.value)
                                                            })
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                            title: locales/* default */.ZP.Settings.Access.AWS.ApiKey.Title,
                                                            subTitle: locales/* default */.ZP.Settings.Access.AWS.ApiKey.SubTitle,
                                                            children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                                value: accessStore.openaiApiKey,
                                                                type: "text",
                                                                placeholder: locales/* default */.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,
                                                                onChange: (e)=>{
                                                                    accessStore.update((access)=>access.openaiApiKey = e.currentTarget.value);
                                                                }
                                                            })
                                                        })
                                                    ]
                                                }) : null
                                            ]
                                        }) : accessStore.provider === "OpenAI" ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                            children: [
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.OpenAI.Endpoint.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.OpenAI.Endpoint.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                        type: "text",
                                                        value: accessStore.openaiUrl,
                                                        placeholder: constant/* OPENAI_BASE_URL */.Bi,
                                                        onChange: (e)=>accessStore.update((access)=>access.openaiUrl = e.currentTarget.value)
                                                    })
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.OpenAI.ApiKey.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.OpenAI.ApiKey.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                        value: accessStore.openaiApiKey,
                                                        type: "text",
                                                        placeholder: locales/* default */.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,
                                                        onChange: (e)=>{
                                                            accessStore.update((access)=>access.openaiApiKey = e.currentTarget.value);
                                                        }
                                                    })
                                                })
                                            ]
                                        }) : accessStore.provider === "Azure" ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                            children: [
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Azure.Endpoint.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Azure.Endpoint.SubTitle + constant/* Azure */.kn.ExampleEndpoint,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                        type: "text",
                                                        value: accessStore.azureUrl,
                                                        placeholder: constant/* Azure */.kn.ExampleEndpoint,
                                                        onChange: (e)=>accessStore.update((access)=>access.azureUrl = e.currentTarget.value)
                                                    })
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Azure.ApiKey.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Azure.ApiKey.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                        value: accessStore.azureApiKey,
                                                        type: "text",
                                                        placeholder: locales/* default */.ZP.Settings.Access.Azure.ApiKey.Placeholder,
                                                        onChange: (e)=>{
                                                            accessStore.update((access)=>access.azureApiKey = e.currentTarget.value);
                                                        }
                                                    })
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Azure.ApiVerion.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Azure.ApiVerion.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                        type: "text",
                                                        value: accessStore.azureApiVersion,
                                                        placeholder: "2023-08-01-preview",
                                                        onChange: (e)=>accessStore.update((access)=>access.azureApiVersion = e.currentTarget.value)
                                                    })
                                                })
                                            ]
                                        }) : accessStore.provider === "Google" ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                            children: [
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Google.Endpoint.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Google.Endpoint.SubTitle + constant/* Google */.ie.ExampleEndpoint,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                        type: "text",
                                                        value: accessStore.googleUrl,
                                                        placeholder: constant/* Google */.ie.ExampleEndpoint,
                                                        onChange: (e)=>accessStore.update((access)=>access.googleUrl = e.currentTarget.value)
                                                    })
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Google.ApiKey.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Google.ApiKey.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* PasswordInput */.WU, {
                                                        value: accessStore.googleApiKey,
                                                        type: "text",
                                                        placeholder: locales/* default */.ZP.Settings.Access.Google.ApiKey.Placeholder,
                                                        onChange: (e)=>{
                                                            accessStore.update((access)=>access.googleApiKey = e.currentTarget.value);
                                                        }
                                                    })
                                                }),
                                                /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                                    title: locales/* default */.ZP.Settings.Access.Google.ApiVersion.Title,
                                                    subTitle: locales/* default */.ZP.Settings.Access.Google.ApiVersion.SubTitle,
                                                    children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                        type: "text",
                                                        value: accessStore.googleApiVersion,
                                                        placeholder: "2023-08-01-preview",
                                                        onChange: (e)=>accessStore.update((access)=>access.googleApiVersion = e.currentTarget.value)
                                                    })
                                                })
                                            ]
                                        }) : null
                                    })
                                ]
                            }),
                            !shouldHideBalanceQuery && !clientConfig?.isApp ? /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Usage.Title,
                                subTitle: showUsage ? loadingUsage ? locales/* default */.ZP.Settings.Usage.IsChecking : locales/* default */.ZP.Settings.Usage.SubTitle(usage?.used ?? "[?]", usage?.subscription ?? "[?]") : locales/* default */.ZP.Settings.Usage.NoAccess,
                                children: !showUsage || loadingUsage ? /*#__PURE__*/ jsx_runtime_.jsx("div", {}) : /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                    text: locales/* default */.ZP.Settings.Usage.Check,
                                    onClick: ()=>checkUsage(true)
                                })
                            }) : null,
                            /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* ListItem */.HC, {
                                title: locales/* default */.ZP.Settings.Access.CustomModel.Title,
                                subTitle: locales/* default */.ZP.Settings.Access.CustomModel.SubTitle,
                                children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                    type: "text",
                                    value: config.customModels,
                                    placeholder: "model1,model2,model3",
                                    onChange: (e)=>config.update((config)=>config.customModels = e.currentTarget.value)
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(ui_lib/* List */.aV, {
                        children: /*#__PURE__*/ jsx_runtime_.jsx(model_config/* ModelConfigList */.j, {
                            modelConfig: config.modelConfig,
                            updateConfig: (updater)=>{
                                const modelConfig = {
                                    ...config.modelConfig
                                };
                                updater(modelConfig);
                                config.update((config)=>config.modelConfig = modelConfig);
                            }
                        })
                    }),
                    shouldShowPromptModal && /*#__PURE__*/ jsx_runtime_.jsx(UserPromptModal, {
                        onClose: ()=>setShowPromptModal(false)
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(BedrockModelSettings, {}),
                    /*#__PURE__*/ jsx_runtime_.jsx(DangerItems, {})
                ]
            })
        ]
    });
}


/***/ }),

/***/ 12338:
/***/ ((module) => {

// Exports
module.exports = {
	"input-range": "input-range_input-range__SuxRd"
};


/***/ }),

/***/ 5590:
/***/ ((module) => {

// Exports
module.exports = {
	"settings": "settings_settings__427bK",
	"avatar": "settings_avatar__jO3Wv",
	"edit-prompt-modal": "settings_edit-prompt-modal__iP1gi",
	"edit-prompt-title": "settings_edit-prompt-title__mq8os",
	"edit-prompt-content": "settings_edit-prompt-content__9i9Y_",
	"user-prompt-modal": "settings_user-prompt-modal__YWssH",
	"user-prompt-search": "settings_user-prompt-search__kskD_",
	"user-prompt-list": "settings_user-prompt-list__BrWRy",
	"user-prompt-item": "settings_user-prompt-item__kh_6Q",
	"user-prompt-header": "settings_user-prompt-header__MBMAf",
	"user-prompt-title": "settings_user-prompt-title__BpRs1",
	"user-prompt-content": "settings_user-prompt-content__CxL3R",
	"user-prompt-buttons": "settings_user-prompt-buttons__y5Hf_",
	"user-prompt-button": "settings_user-prompt-button__efhSx"
};


/***/ })

};
;