"use strict";
exports.id = 2676;
exports.ids = [2676];
exports.modules = {

/***/ 53231:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgCopy = function SvgCopy(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "copy_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "copy_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#copy_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#copy_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 2.48V.94C0 .42.42 0 .94 0h8.12c.52 0 .94.42.94.94v8.12c0 .52-.42.94-.94.94H7.51",
    transform: "translate(4.333 1.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M.94 0C.42 0 0 .42 0 .94v8.12c0 .52.42.94.94.94h8.12c.52 0 .94-.42.94-.94V.94C10 .42 9.58 0 9.06 0H.94Z",
    transform: "translate(1.667 4.333)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgCopy);

/***/ }),

/***/ 24624:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgDownload = function SvgDownload(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "download_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "download_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#download_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#download_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M1 12h10c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v10c0 .55.45 1 1 1Z",
    transform: "translate(2 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0h3.67l.66 1.33H9L9.67 0h3.66",
    transform: "translate(1.333 10.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3.33V0",
    transform: "translate(14 8.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "m0 0 2 2 2-2",
    transform: "translate(6 7.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 5.33V0",
    transform: "translate(8 4)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3.33V0",
    transform: "translate(2 8.667)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgDownload);

/***/ }),

/***/ 54095:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgEdit = function SvgEdit(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "edit_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "edit_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#edit_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#edit_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M2.83 0v3c0 .37-.3.67-.66.67H0",
    transform: "translate(10.5 11)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M10.67 4V.67c0-.37-.3-.67-.67-.67H.67C.3 0 0 .3 0 .67v12c0 .36.3.66.67.66h2",
    transform: "translate(2.667 1.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0h4.67",
    transform: "translate(5.333 5.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "m0 7 5.67-7",
    transform: "translate(7.667 7.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0h2.67",
    transform: "translate(5.333 8)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgEdit);

/***/ }),

/***/ 62030:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _mask, _defs;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgUpload = function SvgUpload(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "upload_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#upload_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#upload_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M1.822 14.178A1.659 1.659 0 0 1 1.333 13V3a1.658 1.658 0 0 1 .489-1.178A1.658 1.658 0 0 1 3 1.333h10a1.659 1.659 0 0 1 1.178.489A1.658 1.658 0 0 1 14.667 3v10a1.659 1.659 0 0 1-1.018 1.535 1.643 1.643 0 0 1-.649.132H3a1.658 1.658 0 0 1-1.178-.489zm11.413-.943a.32.32 0 0 0 .098-.235V3a.32.32 0 0 0-.098-.235.32.32 0 0 0-.235-.098H3a.32.32 0 0 0-.235.098.32.32 0 0 0-.098.235v10c0 .09.033.17.098.235a.32.32 0 0 0 .235.098h10a.32.32 0 0 0 .235-.098z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M5.186 9.692a.664.664 0 0 1 .415.345l.476.96h3.846l.485-.964a.66.66 0 0 1 .414-.341.664.664 0 0 1 .181-.025h3.66a.665.665 0 0 1 .654.796.667.667 0 0 1-.654.537h-3.249l-.485.963a.665.665 0 0 1-.596.367h-4.67a.664.664 0 0 1-.597-.37L4.59 11H1.333a.666.666 0 1 1 0-1.333h3.67c.062 0 .123.008.183.025z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M13.333 12V8.667a.666.666 0 1 1 1.334 0V12a.666.666 0 1 1-1.334 0zM7.63 3.446a.664.664 0 0 1 .841.083l2 2a.667.667 0 0 1-.942.942L8 4.943 6.471 6.47A.66.66 0 0 1 6 6.667a.66.66 0 0 1-.554-.297.665.665 0 0 1 .083-.841l2-2a.665.665 0 0 1 .1-.083z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M8.667 4v5.333a.665.665 0 0 1-1.037.554.665.665 0 0 1-.297-.554V4a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .297.554zM1.333 12V8.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .297.555V12a.665.665 0 0 1-1.138.471.664.664 0 0 1-.196-.471z"
  }))), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "upload_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgUpload);

/***/ }),

/***/ 85563:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  qE: () => (/* binding */ Avatar),
  aR: () => (/* binding */ AvatarPicker),
  eL: () => (/* binding */ EmojiAvatar)
});

// UNUSED EXPORTS: getEmojiUrl

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: ./node_modules/emoji-picker-react/dist/index.js
var dist = __webpack_require__(10480);
// EXTERNAL MODULE: ./app/icons/bedrock_16.svg
var bedrock_16 = __webpack_require__(9024);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
;// CONCATENATED MODULE: ./app/icons/black-bot.svg
var _defs, _rect, _mask, _mask2;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgBlackBot = function SvgBlackBot(props) {
  return /*#__PURE__*/react_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 30,
    height: 30,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "black-bot_svg__a",
    d: "M0 0h30v30H0z"
  }), /*#__PURE__*/react_.createElement("path", {
    id: "black-bot_svg__c",
    d: "M0 0h20.455v20.455H0z"
  }))), /*#__PURE__*/react_.createElement("g", null, _rect || (_rect = /*#__PURE__*/react_.createElement("rect", {
    width: 30,
    height: 30,
    fill: "#E7F8FF",
    rx: 10
  })), _mask || (_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "black-bot_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#black-bot_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#black-bot_svg__b)"
  }, /*#__PURE__*/react_.createElement("g", {
    transform: "translate(4.773 4.773)"
  }, _mask2 || (_mask2 = /*#__PURE__*/react_.createElement("mask", {
    id: "black-bot_svg__d",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#black-bot_svg__c"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#black-bot_svg__d)"
  }, /*#__PURE__*/react_.createElement("path", {
    fillRule: "evenodd",
    style: {
      fill: "#333"
    },
    d: "M19.11 8.37c.17-.52.26-1.06.26-1.61 0-.9-.24-1.79-.71-2.57a5.24 5.24 0 0 0-4.53-2.59c-.37 0-.73.04-1.09.11A5.201 5.201 0 0 0 9.17 0h-.04C6.86 0 4.86 1.44 4.16 3.57A5.11 5.11 0 0 0 .71 6.04C.24 6.83 0 7.72 0 8.63c0 1.27.48 2.51 1.35 3.45-.18.52-.27 1.07-.27 1.61 0 .91.25 1.8.71 2.58 1.13 1.94 3.41 2.94 5.63 2.47a5.18 5.18 0 0 0 3.86 1.71h.05c2.26 0 4.27-1.44 4.97-3.57a5.132 5.132 0 0 0 3.45-2.47c.46-.78.7-1.67.7-2.58 0-1.28-.48-2.51-1.34-3.46ZM8.947 18.158c-.04.03-.08.05-.12.07.7.58 1.57.89 2.48.89h.01c2.14 0 3.88-1.72 3.88-3.83v-4.76c0-.02-.02-.04-.04-.05l-1.74-.99v5.75c0 .23-.13.45-.34.57l-4.13 2.35Zm-.67-1.153 4.17-2.38c.02-.01.03-.03.03-.05v-1.99l-5.04 2.87c-.21.12-.47.12-.68 0l-4.13-2.35c-.04-.02-.09-.06-.12-.07-.04.21-.06.43-.06.65 0 .67.18 1.33.52 1.92v-.01c.7 1.19 1.98 1.92 3.37 1.92.68 0 1.35-.18 1.94-.51ZM3.903 5.168v-.14c-.85.31-1.57.9-2.02 1.68a3.78 3.78 0 0 0-.52 1.91c0 1.37.74 2.64 1.94 3.33l4.17 2.37c.02.01.04.01.06 0l1.75-1-5.04-2.87a.64.64 0 0 1-.34-.57v-4.71Zm13.253 3.337-4.18-2.38c-.02 0-.04 0-.06.01l-1.74.99 5.04 2.87c.21.12.34.34.34.58v4.85c1.52-.56 2.54-1.99 2.54-3.6 0-1.37-.74-2.63-1.94-3.32ZM8.014 5.83c-.02.01-.03.03-.03.05v1.99L13.024 5a.692.692 0 0 1 .68 0l4.13 2.35c.04.02.08.05.12.07.03-.21.05-.43.05-.65 0-2.11-1.74-3.83-3.88-3.83-.68 0-1.35.18-1.94.51l-4.17 2.38Zm1.133-4.492c-2.15 0-3.89 1.72-3.89 3.83v4.76c0 .02.02.03.03.04l1.75 1v-5.75c0-.23.13-.45.34-.57l4.13-2.35c.04-.03.09-.06.12-.07-.7-.58-1.58-.89-2.48-.89ZM7.983 11.51l2.24 1.27 2.25-1.27V8.95l-2.25-1.28-2.24 1.28v2.56Z"
  }))))));
};
/* harmony default export */ const black_bot = (SvgBlackBot);
;// CONCATENATED MODULE: ./app/components/emoji.tsx




function getEmojiUrl(unified, style) {
    // Whoever owns this Content Delivery Network (CDN), I am using your CDN to serve emojis
    // Old CDN broken, so I had to switch to this one
    // Author: https://github.com/H0llyW00dzZ
    return `https://fastly.jsdelivr.net/npm/emoji-datasource-apple/img/${style}/64/${unified}.png`;
}
function AvatarPicker(props) {
    return /*#__PURE__*/ jsx_runtime_.jsx(dist["default"], {
        lazyLoadEmojis: true,
        theme: dist.Theme.AUTO,
        getEmojiUrl: getEmojiUrl,
        onEmojiClick: (e)=>{
            props.onEmojiClick(e.unified);
        }
    });
}
function Avatar(props) {
    if (props.model) {
        return /*#__PURE__*/ jsx_runtime_.jsx("div", {
            className: "no-dark",
            children: props.model?.startsWith("gpt-4") ? /*#__PURE__*/ jsx_runtime_.jsx(black_bot, {
                className: "user-avatar"
            }) : /*#__PURE__*/ jsx_runtime_.jsx(bedrock_16/* default */.Z, {
                className: "user-avatar"
            })
        });
    }
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "user-avatar",
        children: props.avatar && /*#__PURE__*/ jsx_runtime_.jsx(EmojiAvatar, {
            avatar: props.avatar
        })
    });
}
function EmojiAvatar(props) {
    return /*#__PURE__*/ jsx_runtime_.jsx(dist.Emoji, {
        unified: props.avatar,
        size: props.size ?? 18,
        getEmojiUrl: getEmojiUrl
    });
}


/***/ }),

/***/ 80663:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ ModelConfigList)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36278);
/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(57254);
/* harmony import */ var _ui_lib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24552);
/* harmony import */ var _app_constant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(43684);
/* harmony import */ var _store_bedrock_models__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(34342);
/* harmony import */ var _utils_bedrock_models__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(20880);







// Import new Bedrock model system


// 每个模型的特定配置定义
const MODEL_SPECIFIC_CONFIGS = {
    "claude-3.7-sonnet": {
        hasReasoning: true
    },
    "anthropic.claude-3-7-sonnet-20250219-v1:0": {
        hasReasoning: true
    }
};
// 默认配置
const DEFAULT_MODEL_CONFIG = {
    hasReasoning: false
};
function ModelConfigList(props) {
    const appConfig = (0,_store__WEBPACK_IMPORTED_MODULE_2__/* .useAppConfig */ .MG)();
    const accessStore = (0,_store__WEBPACK_IMPORTED_MODULE_2__/* .useAccessStore */ ._X)();
    // New Bedrock models store
    const bedrockStore = (0,_store_bedrock_models__WEBPACK_IMPORTED_MODULE_6__.useBedrockModelsStore)();
    const { provider, useBRProxy, BRProxyUrl, openaiApiKey } = accessStore;
    // Combine legacy models with new Bedrock models
    const allAvailableModels = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{
        const legacyModels = appConfig.models?.filter((m)=>m.available) || [];
        const bedrockModels = (0,_utils_bedrock_models__WEBPACK_IMPORTED_MODULE_7__/* .bedrockModelsToLLMModels */ .dJ)(bedrockStore.getActiveModels());
        // Remove duplicates by modelId, preferring Bedrock models
        const modelMap = new Map();
        // Add legacy models first
        legacyModels.forEach((model)=>{
            modelMap.set(model.modelId || model.name, model);
        });
        // Add Bedrock models (will override legacy models with same ID)
        bedrockModels.forEach((model)=>{
            modelMap.set(model.modelId || model.name, {
                ...model,
                displayName: `[Bedrock] ${model.displayName}`
            });
        });
        return Array.from(modelMap.values());
    }, [
        appConfig.models,
        bedrockStore.models
    ]);
    // 获取当前模型的特定配置
    const getModelConfig = (modelName)=>{
        // 查找完全匹配
        if (MODEL_SPECIFIC_CONFIGS[modelName]) {
            return {
                ...DEFAULT_MODEL_CONFIG,
                ...MODEL_SPECIFIC_CONFIGS[modelName]
            };
        }
        // 查找部分匹配
        for(const key in MODEL_SPECIFIC_CONFIGS){
            if (modelName.includes(key)) {
                return {
                    ...DEFAULT_MODEL_CONFIG,
                    ...MODEL_SPECIFIC_CONFIGS[key]
                };
            }
        }
        // 没有匹配，返回默认配置
        return {
            ...DEFAULT_MODEL_CONFIG
        };
    };
    const [modelSpecificConfig, setModelSpecificConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getModelConfig(props.modelConfig.model));
    // 当模型变化时更新特定配置
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        setModelSpecificConfig(getModelConfig(props.modelConfig.model));
    }, [
        props.modelConfig.model
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const storedModels = appConfig.models;
        if (!storedModels || storedModels.length === 0 || !storedModels[0]?.displayName) {
            appConfig.update((config)=>config.models = _app_constant__WEBPACK_IMPORTED_MODULE_5__/* .DEFAULT_MODELS */ .Fv);
        }
    }, [
        appConfig
    ]);
    const handleRefreshModels = async ()=>{
        try {
            const http_headers = {};
            let model_url = "https://eiai.fun/bedrock-models.json";
            if (provider === "AWS" && useBRProxy === "True") {
                http_headers["Authorization"] = `Bearer ${openaiApiKey}`;
                model_url = BRProxyUrl + "/user/model/list-for-brclient?f=";
            }
            const response = await fetch(model_url + "?f=" + new Date().getTime().toString(), {
                method: "GET",
                headers: http_headers
            });
            let remote_models = await response.json();
            if (provider === "AWS" && useBRProxy === "True") {
                remote_models = remote_models.data;
            }
            // Update legacy models
            appConfig.update((config)=>config.models = remote_models);
            // Also refresh Bedrock models
            await bedrockStore.refreshModels();
        } catch (e) {
            console.error("Failed to refresh models:", e);
        }
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                title: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.DefaultModel.Title,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: "password-input-container",
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .Select */ .Ph, {
                        value: props.modelConfig.model,
                        onChange: (e)=>{
                            props.updateConfig((config)=>config.model = _store__WEBPACK_IMPORTED_MODULE_2__/* .ModalConfigValidator */ .Xm.model(e.currentTarget.value));
                            // 更新模型特定配置
                            setModelSpecificConfig(getModelConfig(e.currentTarget.value));
                        },
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("option", {
                                value: "",
                                children: "-- Select a Model --"
                            }),
                            bedrockStore.getActiveModels().length > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("optgroup", {
                                label: "Bedrock Models",
                                children: bedrockStore.getActiveModels().map((model)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("option", {
                                        value: model.modelId,
                                        children: [
                                            model.modelName,
                                            " (",
                                            model.providerName,
                                            ")",
                                            model.isReasoningModel && " \uD83E\uDDE0",
                                            model.inputModalities.includes("IMAGE") && " \uD83D\uDC41️"
                                        ]
                                    }, `bedrock-${model.uuid}`))
                            })
                        ]
                    })
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                title: "Model Source",
                subTitle: bedrockStore.getModelById(props.modelConfig.model) ? "Bedrock Model (New Configuration System)" : "Legacy Model",
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    style: {
                        fontSize: "0.9em",
                        color: "#666"
                    },
                    children: bedrockStore.getModelById(props.modelConfig.model) ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        children: [
                            "• Config Version: ",
                            bedrockStore.getModelById(props.modelConfig.model)?.configVersion,
                            "• UUID: ",
                            bedrockStore.getModelById(props.modelConfig.model)?.uuid.slice(0, 8),
                            "..."
                        ]
                    }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        children: "• Using legacy model configuration"
                    })
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                title: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.CompressThreshold.Title,
                subTitle: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.CompressThreshold.SubTitle,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                    type: "number",
                    min: 500,
                    max: 4000,
                    value: props.modelConfig.compressMessageLengthThreshold,
                    onChange: (e)=>props.updateConfig((config)=>config.compressMessageLengthThreshold = e.currentTarget.valueAsNumber)
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                title: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Memory.Title,
                subTitle: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Memory.Send,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                    type: "checkbox",
                    checked: props.modelConfig.sendMemory,
                    onChange: (e)=>props.updateConfig((config)=>config.sendMemory = e.currentTarget.checked)
                })
            }),
            modelSpecificConfig.hasReasoning && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                        title: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.Reasoning.Title,
                        subTitle: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.Reasoning.SubTitle,
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .Select */ .Ph, {
                            value: props.modelConfig.reasoning_config?.type || "disabled",
                            onChange: (e)=>{
                                const type = e.currentTarget.value;
                                props.updateConfig((config)=>{
                                    // 确保 reasoning_config 存在
                                    if (!config.reasoning_config) {
                                        config.reasoning_config = {
                                            type,
                                            budget_tokens: Math.min(1024, config.max_tokens - 1)
                                        };
                                    } else {
                                        config.reasoning_config.type = type;
                                    }
                                });
                            },
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("option", {
                                    value: "enabled",
                                    children: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.Reasoning.Type.Enabled
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("option", {
                                    value: "disabled",
                                    children: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.Reasoning.Type.Disabled
                                })
                            ]
                        })
                    }),
                    props.modelConfig.reasoning_config?.type === "enabled" && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_ui_lib__WEBPACK_IMPORTED_MODULE_4__/* .ListItem */ .HC, {
                        title: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.ReasoningBudget.Title,
                        subTitle: _locales__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP.Settings.ReasoningBudget.SubTitle,
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                            type: "number",
                            min: 1024,
                            max: props.modelConfig.max_tokens - 1,
                            value: props.modelConfig.reasoning_config?.budget_tokens || 1024,
                            onChange: (e)=>{
                                const value = parseInt(e.currentTarget.value);
                                const safeValue = Math.max(1024, Math.min(value, props.modelConfig.max_tokens - 1));
                                props.updateConfig((config)=>{
                                    if (config.reasoning_config) {
                                        config.reasoning_config.budget_tokens = safeValue;
                                    }
                                });
                            }
                        })
                    })
                ]
            })
        ]
    });
}


/***/ }),

/***/ 20880:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Xf: () => (/* binding */ isVisionModel),
/* harmony export */   dJ: () => (/* binding */ bedrockModelsToLLMModels)
/* harmony export */ });
/* unused harmony exports bedrockToLLMModel, getDefaultSelectedModel, isMultimodalModel, getModelsByProvider, findBestModelForUseCase, validateBedrockModel, parseBedrockModels, compareVersions, shouldUpdateModel, normalizeBedrockModel, getModelsNeedingUpdate, filterSuggestionSettings, hasSuggestionSettings, getApplicableSuggestions, areSettingsDifferent, getEffectiveRegionForModel */
/**
 * Utility functions for working with Bedrock models
 * and bridging between old and new model formats
 */ /**
 * Helper function to get DDActive value from either DDActive or DD_Active
 */ function getModelActiveStatus(model) {
    return model.DDActive ?? model.DD_Active ?? false;
}
/**
 * Convert a BedrockModel to the legacy LLMModel format
 * This helps with gradual migration from the old format
 */ function bedrockToLLMModel(bedrockModel) {
    return {
        name: bedrockModel.modelId,
        available: getModelActiveStatus(bedrockModel),
        modelId: bedrockModel.modelId,
        anthropic_version: bedrockModel.anthropicVersion,
        displayName: bedrockModel.modelName,
        provider: {
            id: "aws",
            providerName: bedrockModel.providerName,
            providerType: "aws"
        }
    };
}
/**
 * Convert multiple BedrockModels to LLMModels
 */ function bedrockModelsToLLMModels(bedrockModels) {
    return bedrockModels.map(bedrockToLLMModel);
}
/**
 * Get default model selection based on capabilities
 * Returns the first active reasoning model, or first active model
 */ function getDefaultSelectedModel(models) {
    const activeModels = models.filter((model)=>getModelActiveStatus(model));
    if (activeModels.length === 0) {
        return null;
    }
    // Prefer reasoning models
    const reasoningModel = activeModels.find((model)=>model.isReasoningModel);
    if (reasoningModel) {
        return reasoningModel;
    }
    // Fallback to first active model
    return activeModels[0];
}
/**
 * Check if a model supports multimodal input (text + image/video)
 */ function isMultimodalModel(model) {
    return model.inputModalities.includes("TEXT") && (model.inputModalities.includes("IMAGE") || model.inputModalities.includes("VIDEO"));
}
/**
 * Check if a model supports vision capabilities
 */ function isVisionModel(model) {
    return model.inputModalities.includes("IMAGE") || model.inputModalities.includes("VIDEO");
}
/**
 * Get models by provider name
 */ function getModelsByProvider(models, providerName) {
    return models.filter((model)=>model.providerName === providerName && getModelActiveStatus(model));
}
/**
 * Find the best model for a specific use case
 */ function findBestModelForUseCase(models, useCase) {
    const activeModels = models.filter((model)=>getModelActiveStatus(model));
    switch(useCase){
        case "reasoning":
            return activeModels.find((model)=>model.isReasoningModel) || null;
        case "multimodal":
            return activeModels.find((model)=>isMultimodalModel(model)) || null;
        case "text":
            return activeModels.find((model)=>model.inputModalities.includes("TEXT") && model.outputModalities.includes("TEXT")) || null;
        case "fast":
            // Prefer models with "haiku" in the name for faster responses
            return activeModels.find((model)=>model.modelName.toLowerCase().includes("haiku")) || activeModels[0] || null;
        default:
            return activeModels[0] || null;
    }
}
/**
 * Validate a Bedrock model configuration
 */ function validateBedrockModel(model) {
    return typeof model === "object" && model !== null && typeof model.modelArn === "string" && typeof model.modelId === "string" && typeof model.modelName === "string" && typeof model.providerName === "string" && Array.isArray(model.inputModalities) && Array.isArray(model.outputModalities) && typeof model.responseStreamingSupported === "boolean" && Array.isArray(model.customizationsSupported) && Array.isArray(model.inferenceTypesSupported) && typeof model.modelLifecycle === "object" && (typeof model.DDActive === "boolean" || typeof model.DD_Active === "boolean") && typeof model.uuid === "string" && typeof model.anthropicVersion === "string" && typeof model.isReasoningModel === "boolean" && typeof model.configVersion === "string" && (model.supportedParameters === undefined || Array.isArray(model.supportedParameters)) && (model.suggestionSettings === undefined || typeof model.suggestionSettings === "object");
}
/**
 * Safely parse and validate Bedrock models from JSON
 */ function parseBedrockModels(json) {
    if (!Array.isArray(json)) {
        console.warn("Expected array of models, got:", typeof json);
        return [];
    }
    return json.filter(validateBedrockModel);
}
/**
 * Compare two version strings (e.g., "0.1", "0.2", "1.0")
 * Returns: 1 if version1 > version2, -1 if version1 < version2, 0 if equal
 */ function compareVersions(version1, version2) {
    const v1 = parseFloat(version1) || 0;
    const v2 = parseFloat(version2) || 0;
    if (v1 > v2) return 1;
    if (v1 < v2) return -1;
    return 0;
}
/**
 * Check if a model configuration needs updating based on version
 */ function shouldUpdateModel(storedModel, configModel) {
    return compareVersions(configModel.configVersion, storedModel.configVersion) > 0;
}
/**
 * Normalize model data to ensure consistent field names
 * Handles the DDActive/DD_Active inconsistency
 */ function normalizeBedrockModel(model) {
    const normalized = {
        ...model,
        DDActive: model.DDActive ?? model.DD_Active ?? false,
        configVersion: model.configVersion || "0.0"
    };
    // Remove DD_Active if it exists since we're using DDActive
    if ("DD_Active" in normalized) {
        delete normalized.DD_Active;
    }
    return normalized;
}
/**
 * Get models that need updates based on version comparison
 */ function getModelsNeedingUpdate(storedModels, configModels) {
    const storedModelMap = new Map(storedModels.map((model)=>[
            model.uuid,
            model
        ]));
    const configModelMap = new Map(configModels.map((model)=>[
            model.uuid,
            model
        ]));
    const toUpdate = [];
    const toAdd = [];
    const toRemove = [];
    // Check config models against stored models
    for (const [uuid, configModel] of configModelMap){
        const storedModel = storedModelMap.get(uuid);
        if (!storedModel) {
            toAdd.push(configModel);
        } else if (shouldUpdateModel(storedModel, configModel)) {
            toUpdate.push(configModel);
        }
    }
    // Check for removed models
    for (const [uuid, storedModel] of storedModelMap){
        if (!configModelMap.has(uuid)) {
            toRemove.push(storedModel);
        }
    }
    return {
        toUpdate,
        toAdd,
        toRemove
    };
}
/**
 * Filter suggestion settings by supported parameters
 * Rule 2: Only include settings that are in the supportedParameters list
 */ function filterSuggestionSettings(suggestionSettings, supportedParameters) {
    const filtered = {};
    supportedParameters.forEach((param)=>{
        if (param in suggestionSettings) {
            filtered[param] = suggestionSettings[param];
        }
    });
    return filtered;
}
/**
 * Check if a model has suggestion settings available
 */ function hasSuggestionSettings(model) {
    return !!(model.suggestionSettings && Object.keys(model.suggestionSettings).length > 0 && model.supportedParameters && model.supportedParameters.length > 0);
}
/**
 * Get applicable suggestion settings for a model
 * Filters suggestionSettings by supportedParameters list
 */ function getApplicableSuggestions(model) {
    if (!hasSuggestionSettings(model)) {
        return {};
    }
    return filterSuggestionSettings(model.suggestionSettings, model.supportedParameters);
}
/**
 * Check if two parameter settings are different
 */ function areSettingsDifferent(settings1, settings2) {
    const keys1 = Object.keys(settings1);
    const keys2 = Object.keys(settings2);
    if (keys1.length !== keys2.length) {
        return true;
    }
    return keys1.some((key)=>settings1[key] !== settings2[key]);
}
/**
 * Get the effective AWS region for a Bedrock model
 * This function checks if the model has a custom preferred region set,
 * otherwise falls back to the provided default region or system default
 * 
 * @param modelId The Bedrock model ID (e.g., "anthropic.claude-3-5-sonnet-20241022-v2:0")
 * @param defaultRegion Optional default region to use if no preference is set
 * @returns The effective region to use for API calls
 */ function getEffectiveRegionForModel(modelId, defaultRegion) {
    try {
        // Import here to avoid circular dependencies
        const { useBedrockModelsStore } = __webpack_require__(34342);
        const store = useBedrockModelsStore.getState();
        return store.getEffectiveRegionByModelId(modelId, defaultRegion);
    } catch (error) {
        console.warn(`[BedrockModels] Failed to get effective region for modelId ${modelId}, using fallback:`, error);
        return defaultRegion || "us-west-2";
    }
}


/***/ })

};
;