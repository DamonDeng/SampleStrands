(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4090],{86224:function(e,t,s){"use strict";var n,i,l=s(86006);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=l.createElement("defs",null,l.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),l.createElement("g",null,i||(i=l.createElement("mask",{id:"clear_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#clear_svg__a"}))),l.createElement("g",{mask:"url(#clear_svg__b)"},l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 9.67h8.67l1-9.67H0l1 9.67Z",transform:"translate(2.667 5)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(6.667 8.334)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(9.334 8.333)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 4 5.44-4L8 4",transform:"translate(4 1)"}))))}},34617:function(e,t,s){"use strict";var n,i,l=s(86006);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),l.createElement("g",null,n||(n=l.createElement("mask",{id:"cloud-success_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#cloud-success_svg__a"}))),l.createElement("g",{mask:"url(#cloud-success_svg__b)"},l.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),l.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.426 10.49 2 1.66-.426.513-.52-.417 2.67-3.33a.668.668 0 0 1 1.104.096.667.667 0 0 1-.064.738l-2.67 3.33a.667.667 0 0 1-.946.096l-2-1.66a.663.663 0 0 1-.21-.71.667.667 0 0 1 1.062-.316z"}))),i||(i=l.createElement("defs",null,l.createElement("path",{id:"cloud-success_svg__a",d:"M0 0h16v16H0z"}))))}},74090:function(e,t,s){"use strict";s.r(t),s.d(t,{Settings:function(){return er}});var n,i,l,r,o=s(9268),a=s(86006),c=s(71913),d=s.n(c),u=s(51150),p=s(46816),h=s(35520),g=s(46011),m=s(86224),x=s(70359),f=s(80199),y=s(83573),v=s(33186),S=s(19081);function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var b=function(e){return a.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),a.createElement("g",null,n||(n=a.createElement("mask",{id:"config_svg__b",fill:"#fff"},a.createElement("use",{xlinkHref:"#config_svg__a"}))),a.createElement("g",{mask:"url(#config_svg__b)"},a.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.833 4h-2a.665.665 0 0 1-.471-1.138.664.664 0 0 1 .471-.195h2a.665.665 0 0 1 .654.796.666.666 0 0 1-.654.537zM9.833 2v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V2a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .296.554z"}),a.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 4H1.833a.665.665 0 0 1-.554-1.037.665.665 0 0 1 .554-.296h7.333a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.296zM4.5 8.667H1.833A.665.665 0 0 1 1.28 7.63a.665.665 0 0 1 .554-.297H4.5a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.297zM7.833 6.667v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V6.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .296.555z"}),a.createElement("path",{style:{fill:"#333",opacity:1},d:"M14.5 8.667H7.167a.665.665 0 0 1-.555-1.037.665.665 0 0 1 .555-.297H14.5a.665.665 0 0 1 .471 1.138.664.664 0 0 1-.471.196zM13.833 13.333h-2a.666.666 0 1 1 0-1.333h2a.666.666 0 1 1 0 1.333zM9.833 11.333V14a.665.665 0 0 1-.796.654A.666.666 0 0 1 8.5 14v-2.667a.665.665 0 0 1 1.138-.471.664.664 0 0 1 .195.471z"}),a.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 13.333H1.833a.666.666 0 1 1 0-1.333h7.333a.666.666 0 1 1 0 1.333z"}))),i||(i=a.createElement("defs",null,a.createElement("path",{id:"config_svg__a",d:"M0 0h16v16H0z"}))))},C=s(2137),_=s(9265),k=s(22958),P=s(34617);function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var A=function(e){return a.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),a.createElement("g",null,l||(l=a.createElement("mask",{id:"cloud-fail_svg__b",fill:"#fff"},a.createElement("use",{xlinkHref:"#cloud-fail_svg__a"}))),a.createElement("g",{mask:"url(#cloud-fail_svg__b)"},a.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),a.createElement("path",{style:{fill:"#333",opacity:1},d:"m10.135 9.805-3.33 3.33a.667.667 0 0 1-.943-.943l3.33-3.33a.665.665 0 1 1 .943.943z"}),a.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.805 8.862 3.33 3.33a.67.67 0 0 1 0 .943.672.672 0 0 1-.602.182.666.666 0 0 1-.341-.182l-3.33-3.33a.665.665 0 0 1 .341-1.126.665.665 0 0 1 .602.183z"}))),r||(r=a.createElement("defs",null,a.createElement("path",{id:"cloud-fail_svg__a",d:"M0 0h16v16H0z"}))))},w=s(19319),Z=s(80990),M=s(48),E=s(21568),z=s(1405),H=s(9881),N=s(72908),R=s(3566),F=s(3686),U=s(83287),O=s.n(U);function I(e){let{onChange:t,title:s,value:n,className:i,min:l,max:r,step:a}=e;return(0,o.jsxs)("div",{className:O()["input-range"]+" ".concat(null!=i?i:""),children:[s||n,(0,o.jsx)("input",{type:"range",title:s,value:n,min:l,max:r,step:a,onChange:t})]})}var B=s(17005),W=s(16778),K=s(41881),D=s(16199),V=s(35842),G=s(22852),L=s(27688),Q=s(94390),q=s(85444),X=s.n(q);function Y(){let[e,t]=(0,a.useState)("idle"),[s,n]=(0,a.useState)(null),i=(0,a.useRef)(!1),{models:l,isLoading:r,error:o,loadModels:c,checkConfigVersion:d,syncModelsWithConfig:u}=(0,Q.useBedrockModelsStore)(),p=async()=>{if(i.current){console.log("[ModelSync] Already initialized, skipping");return}i.current=!0,console.log("[ModelSync] Starting initial sync check..."),console.log("[ModelSync] Current models count:",l.length),console.log("[ModelSync] Store loading state:",r),console.log("[ModelSync] Store error state:",o);try{if(t("checking"),n(null),0===l.length){console.log("[ModelSync] No models in store, loading initial configuration..."),await c(),t("complete"),n("Initial models loaded successfully");return}console.log("[ModelSync] Checking for model configuration updates...");let e=await d();console.log("[ModelSync] Config needs update:",e),e?(console.log("[ModelSync] Model configuration updates found, syncing..."),t("syncing"),await u(),t("complete"),n("Models synchronized successfully")):(console.log("[ModelSync] Model configuration is up to date"),t("complete"),n("Models are up to date"))}catch(e){console.error("[ModelSync] Failed to sync model configuration:",e),t("error"),n(e instanceof Error?e.message:"Unknown error occurred")}},h=async()=>{try{t("checking"),n(null);let e=await d();if(e)return t("syncing"),await u(),t("complete"),n("Manual sync completed successfully"),!0;return t("complete"),n("No updates needed"),!1}catch(e){return console.error("Manual sync failed:",e),t("error"),n(e instanceof Error?e.message:"Manual sync failed"),!1}},g=async()=>{try{return t("syncing"),n(null),await c(),t("complete"),n("Force sync completed successfully"),!0}catch(e){return console.error("Force sync failed:",e),t("error"),n(e instanceof Error?e.message:"Force sync failed"),!1}};return(0,a.useEffect)(()=>{p()},[]),(0,a.useEffect)(()=>{o&&"idle"===e&&(t("error"),n(o))},[o,e]),{syncStatus:e,syncResult:s,isLoading:r||"checking"===e||"syncing"===e,hasError:"error"===e||!!o,modelCount:l.length,manualSync:h,forceSync:g}}function $(){let{syncStatus:e,syncResult:t,isLoading:s,hasError:n,modelCount:i,manualSync:l,forceSync:r}=Y();return(0,o.jsxs)("div",{className:"jsx-e9abc25a92d87177 model-sync-status",children:[(0,o.jsxs)("div",{className:"jsx-e9abc25a92d87177 sync-header",children:[(0,o.jsx)("h4",{className:"jsx-e9abc25a92d87177",children:"Model Configuration Sync"}),(0,o.jsxs)("div",{style:{color:(()=>{switch(e){case"checking":case"syncing":return"#1976d2";case"complete":return"#388e3c";case"error":return"#d32f2f";default:return"#666"}})()},className:"jsx-e9abc25a92d87177 status-indicator",children:[(()=>{switch(e){case"checking":return"\uD83D\uDD0D";case"syncing":return"⏳";case"complete":return"✅";case"error":return"❌";default:return"⚪"}})()," ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),(0,o.jsxs)("div",{className:"jsx-e9abc25a92d87177 sync-info",children:[(0,o.jsxs)("div",{className:"jsx-e9abc25a92d87177 model-count",children:["Models loaded: ",i]}),t&&(0,o.jsx)("div",{className:"jsx-e9abc25a92d87177 "+"sync-result ".concat(n?"error":"success"),children:t})]}),(0,o.jsxs)("div",{className:"jsx-e9abc25a92d87177 sync-controls",children:[(0,o.jsx)("button",{onClick:l,disabled:s,className:"jsx-e9abc25a92d87177 sync-button",children:s?"Checking...":"Check for Updates"}),(0,o.jsx)("button",{onClick:r,disabled:s,className:"jsx-e9abc25a92d87177 sync-button force",children:s?"Syncing...":"Force Reload"})]}),(0,o.jsx)("div",{className:"jsx-e9abc25a92d87177 sync-description",children:(0,o.jsx)("small",{className:"jsx-e9abc25a92d87177",children:"The system automatically checks for model configuration updates when the app starts. Models are identified by UUID and updated only if their configVersion is newer."})}),(0,o.jsx)(X(),{id:"e9abc25a92d87177",children:".model-sync-status.jsx-e9abc25a92d87177{padding:20px;border:1px solid#e0e0e0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:#fafafa;max-width:500px}.sync-header.jsx-e9abc25a92d87177{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.sync-header.jsx-e9abc25a92d87177 h4.jsx-e9abc25a92d87177{margin:0;color:#333}.status-indicator.jsx-e9abc25a92d87177{font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.sync-info.jsx-e9abc25a92d87177{margin-bottom:15px}.model-count.jsx-e9abc25a92d87177{color:#666;font-size:.9em;margin-bottom:8px}.sync-result.jsx-e9abc25a92d87177{padding:8px 12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.9em}.sync-result.success.jsx-e9abc25a92d87177{background:#e8f5e8;color:#2e7d2e;border:1px solid#a5d6a7}.sync-result.error.jsx-e9abc25a92d87177{background:#ffebee;color:#c62828;border:1px solid#ef9a9a}.sync-controls.jsx-e9abc25a92d87177{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px;margin-bottom:15px}.sync-button.jsx-e9abc25a92d87177{padding:8px 16px;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:white;cursor:pointer;font-size:.9em;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.sync-button.jsx-e9abc25a92d87177:hover:not(:disabled){background:#f5f5f5;border-color:#bbb}.sync-button.jsx-e9abc25a92d87177:disabled{opacity:.6;cursor:not-allowed}.sync-button.force.jsx-e9abc25a92d87177{background:#fff3e0;border-color:#ffcc02;color:#e65100}.sync-button.force.jsx-e9abc25a92d87177:hover:not(:disabled){background:#ffe0b2}.sync-description.jsx-e9abc25a92d87177{color:#666;line-height:1.4}.sync-description.jsx-e9abc25a92d87177 small.jsx-e9abc25a92d87177{font-size:.8em}"})]})}function J(e){let t=(0,R.f)(),s=t.get(e.id);return s?(0,o.jsx)("div",{className:"modal-mask",children:(0,o.jsx)(w.u_,{title:z.ZP.Settings.Prompt.EditModal.Title,onClose:e.onClose,actions:[(0,o.jsx)(M.h,{onClick:e.onClose,text:z.ZP.UI.Confirm,bordered:!0},"")],children:(0,o.jsxs)("div",{className:d()["edit-prompt-modal"],children:[(0,o.jsx)("input",{type:"text",value:s.title,readOnly:!s.isUser,className:d()["edit-prompt-title"],onInput:s=>t.updatePrompt(e.id,e=>e.title=s.currentTarget.value)}),(0,o.jsx)(w.II,{value:s.content,readOnly:!s.isUser,className:d()["edit-prompt-content"],rows:10,onInput:s=>t.updatePrompt(e.id,e=>e.content=s.currentTarget.value)})]})})}):null}function ee(e){var t;let s=(0,R.f)(),n=s.getUserPrompts(),i=R.o.builtinPrompts,l=n.concat(i),[r,c]=(0,a.useState)(""),[u,h]=(0,a.useState)([]),x=r.length>0?u:l,[v,S]=(0,a.useState)();return(0,a.useEffect)(()=>{if(r.length>0){let e=R.o.search(r);h(e)}else h([])},[r]),(0,o.jsxs)("div",{className:"modal-mask",children:[(0,o.jsx)(w.u_,{title:z.ZP.Settings.Prompt.Modal.Title,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},actions:[(0,o.jsx)(M.h,{onClick:()=>{let e=s.add({id:(0,V.x0)(),createdAt:Date.now(),title:"Empty Prompt",content:"Empty Prompt Content"});S(e)},icon:(0,o.jsx)(p.Z,{}),bordered:!0,text:z.ZP.Settings.Prompt.Modal.Add},"add")],children:(0,o.jsxs)("div",{className:d()["user-prompt-modal"],children:[(0,o.jsx)("input",{type:"text",className:d()["user-prompt-search"],placeholder:z.ZP.Settings.Prompt.Modal.Search,value:r,onInput:e=>c(e.currentTarget.value)}),(0,o.jsx)("div",{className:d()["user-prompt-list"],children:x.map((e,n)=>(0,o.jsxs)("div",{className:d()["user-prompt-item"],children:[(0,o.jsxs)("div",{className:d()["user-prompt-header"],children:[(0,o.jsx)("div",{className:d()["user-prompt-title"],children:e.title}),(0,o.jsx)("div",{className:d()["user-prompt-content"]+" one-line",children:e.content})]}),(0,o.jsxs)("div",{className:d()["user-prompt-buttons"],children:[e.isUser&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(m.Z,{}),className:d()["user-prompt-button"],onClick:()=>s.remove(e.id)}),e.isUser?(0,o.jsx)(M.h,{icon:(0,o.jsx)(f.Z,{}),className:d()["user-prompt-button"],onClick:()=>S(e.id)}):(0,o.jsx)(M.h,{icon:(0,o.jsx)(y.Z,{}),className:d()["user-prompt-button"],onClick:()=>S(e.id)}),(0,o.jsx)(M.h,{icon:(0,o.jsx)(g.Z,{}),className:d()["user-prompt-button"],onClick:()=>(0,H.vQ)(e.content)})]})]},null!==(t=e.id)&&void 0!==t?t:e.title))})]})}),void 0!==v&&(0,o.jsx)(J,{id:v,onClose:()=>S(void 0)})]})}function et(){let e=(0,E.aK)(),t=(0,E.MG)(),s=(0,Q.useBedrockModelsStore)();return(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Danger.Reset.Title,subTitle:z.ZP.Settings.Danger.Reset.SubTitle,children:(0,o.jsx)(M.h,{text:z.ZP.Settings.Danger.Reset.Action,onClick:async()=>{if(await (0,w.i0)(z.ZP.Settings.Danger.Reset.Confirm)){console.log("[Settings] Resetting all configurations..."),t.reset(),s.reset(),console.log("[Settings] Loading models and applying suggestion settings...");try{await s.loadModels();let e=s.getActiveModels(),t=0;for(let n of e){let e=s.applySuggestionSettingsIfNew(n.modelId);e&&Object.keys(e).length>0&&(t++,console.log("[Settings] Applied ".concat(Object.keys(e).length," suggestions for ").concat(n.modelName,":"),e))}console.log("[Settings] All configurations reset successfully. Applied suggestions to ".concat(t," models.")),(0,w.CF)("All settings reset and suggestion settings applied to ".concat(t," models"))}catch(e){console.error("[Settings] Error during reset and suggestion application:",e),(0,w.CF)("Settings reset successfully, but some suggestion settings could not be applied")}}},type:"danger"})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Danger.Clear.Title,subTitle:z.ZP.Settings.Danger.Clear.SubTitle,children:(0,o.jsx)(M.h,{text:z.ZP.Settings.Danger.Clear.Action,onClick:async()=>{await (0,w.i0)(z.ZP.Settings.Danger.Clear.Confirm)&&e.clearAllData()},type:"danger"})})]})}function es(){var e,t,s;let{models:n,selectedModelId:i,isLoading:l,error:r,getActiveModels:c,getModelsByProvider:d,setSelectedModel:p,checkConfigVersion:h,syncModelsWithConfig:g,getModelById:f,getSupportedParameters:y,getSuggestionSettings:v,applySuggestionSettingsIfNew:S,getCurrentParameterValues:j,updateParameterValue:b,resetParameterToSuggestion:C,getParameterType:_,getParameterConstraints:k,getModelParameters:P,hasCustomParameters:T,resetAllParametersToSuggestion:A,clearModelParameters:Z,getPreferRegion:z,setPreferRegion:H,clearPreferRegion:N}=(0,Q.useBedrockModelsStore)(),[R,F]=(0,a.useState)(!1),[U,O]=(0,a.useState)(""),B=c(),W=d();(0,a.useEffect)(()=>{console.log("[BedrockModelSettings] Store state update:",{modelsCount:n.length,activeModelsCount:B.length,isLoading:l,error:r,selectedModelId:i}),console.log("[BedrockModelSettings] Models by provider:",W)},[n,B,l,r,i,W]);let K=async()=>{console.log("[BedrockModelSettings] Checking for updates manually..."),F(!0);try{let e=await h();console.log("[BedrockModelSettings] Manual check - needs update:",e),e?(await g(),(0,w.CF)("Model configurations updated successfully")):(0,w.CF)("Model configurations are up to date")}catch(e){console.error("[BedrockModelSettings] Manual update check failed:",e),(0,w.CF)("Failed to check for model updates"),console.error("Model update check failed:",e)}finally{F(!1)}},D=(e,t,s,n)=>{var i,l,r,a,c,d,p,h,g;let m=_(e),x=k(e),f=t!==s;switch(m){case"number":if(void 0!==x.min&&void 0!==x.max)return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)(I,{title:"".concat(null!==(r=null!==(l=null==t?void 0:t.toFixed(2))&&void 0!==l?l:null==s?void 0:s.toFixed(2))&&void 0!==r?r:"0"),value:null!==(a=null!=t?t:s)&&void 0!==a?a:x.min,min:x.min.toString(),max:x.max.toString(),step:null!==(c=null===(i=x.step)||void 0===i?void 0:i.toString())&&void 0!==c?c:"0.01",onChange:t=>{let s=t.currentTarget.valueAsNumber;b(n,e,s)}}),f&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),title:"Reset to suggested value",onClick:()=>C(n,e)})]});return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("input",{type:"number",value:null!==(d=null!=t?t:s)&&void 0!==d?d:"",min:x.min,max:x.max,step:null!==(p=x.step)&&void 0!==p?p:"any",onChange:t=>{let s=t.currentTarget.valueAsNumber;isNaN(s)||b(n,e,s)},style:{width:"100px"}}),f&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),title:"Reset to suggested value",onClick:()=>C(n,e)})]});case"boolean":return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("input",{type:"checkbox",checked:null!==(h=null!=t?t:s)&&void 0!==h&&h,onChange:t=>{b(n,e,t.currentTarget.checked)}}),f&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),title:"Reset to suggested value",onClick:()=>C(n,e)})]});default:return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("input",{type:"text",value:null!==(g=null!=t?t:s)&&void 0!==g?g:"",onChange:t=>{b(n,e,t.currentTarget.value)},style:{minWidth:"150px"}}),f&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),title:"Reset to suggested value",onClick:()=>C(n,e)})]})}};return console.log("[BedrockModelSettings] Rendering with:",{modelsCount:n.length,activeModelsCount:B.length,isLoading:l,error:r}),(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:"Bedrock Model Configuration",subTitle:"".concat(B.length," active models available"),children:(0,o.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,o.jsx)(M.h,{icon:R?(0,o.jsx)(x.Z,{}):(0,o.jsx)(u.Z,{}),text:R?"Checking...":"Check Updates",onClick:K,disabled:R})})}),r&&(0,o.jsx)(w.HC,{title:"Model Loading Error",subTitle:r,children:(0,o.jsx)("div",{style:{color:"#d32f2f",fontSize:"0.9em"},children:"Failed to load model configurations"})}),(0,o.jsx)(w.HC,{title:"Selected Model",subTitle:i||"No model selected",children:(0,o.jsxs)(w.Ph,{value:i||"",onChange:e=>{e.target.value&&p(e.target.value)},children:[(0,o.jsx)("option",{value:"",children:"-- Select a Bedrock Model --"}),Object.entries(W).map(e=>{let[t,s]=e;return(0,o.jsx)("optgroup",{label:t,children:s.map(e=>(0,o.jsxs)("option",{value:e.modelId,children:[e.modelName,e.isReasoningModel&&" (Reasoning)",e.inputModalities.includes("IMAGE")&&" (Vision)"]},e.modelId))},t)})]})}),i&&(0,o.jsx)(w.HC,{title:"Preferred Region",subTitle:"Custom region for ".concat((null===(e=f(i))||void 0===e?void 0:e.modelName)||"this model"," (optional)"),children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("input",{type:"text",value:z((null===(t=f(i))||void 0===t?void 0:t.uuid)||"")||"",placeholder:"Default: ".concat(E._X.getState().awsRegion||"us-west-2"),onChange:e=>{let t=f(i);if(!t)return;let s=e.target.value.trim();s?H(t.uuid,s):N(t.uuid)},style:{minWidth:"150px"}}),z((null===(s=f(i))||void 0===s?void 0:s.uuid)||"")&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(m.Z,{}),title:"Clear custom region (use default)",onClick:()=>{let e=f(i);e&&N(e.uuid)}})]})}),i&&(0,o.jsx)(o.Fragment,{children:(()=>{let e=f(i);if(!e)return null;let t=y(i),s=v(i),n=j(e.uuid);return(0,o.jsxs)(o.Fragment,{children:[t.length>0&&t.map(t=>{let i=n[t],l=s[t],r=void 0!==P(e.uuid)[t];return(0,o.jsx)(w.HC,{title:"".concat(t).concat(r?" (custom)":""),subTitle:"Parameter Setting",children:(0,o.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:D(t,i,l,e.uuid)})},t)}),t.length>0&&(0,o.jsx)("div",{style:{fontSize:"0.8em",color:"#888",margin:"8px 16px"},children:'\uD83D\uDCA1 Parameter values are saved per model. Blue "(custom)" indicates you\'ve modified the suggested value for this specific model.'}),t.length>0&&(0,o.jsx)(w.HC,{title:"Parameter Management",subTitle:"Manage parameter settings for ".concat(null==e?void 0:e.modelName),children:(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),text:"Apply All Suggestions",onClick:()=>{let t=A(e.uuid);t?(0,w.CF)("Applied all suggested settings for ".concat(null==e?void 0:e.modelName)):(0,w.CF)("No suggestions available to apply")},bordered:!0}),T(e.uuid)&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(m.Z,{}),text:"Clear Custom Settings",onClick:async()=>{await (0,w.i0)("Clear all custom parameter settings for ".concat(null==e?void 0:e.modelName,"? This will revert to suggestion values only."))&&(Z(e.uuid),(0,w.CF)("Cleared custom settings for ".concat(null==e?void 0:e.modelName)))},type:"danger",bordered:!0})]})})]})})()}),l&&(0,o.jsx)(w.HC,{title:"Loading Models",subTitle:"Synchronizing model configurations...",children:(0,o.jsx)(x.Z,{})})]})}function en(){let e=(0,D.i)(),t=(0,a.useMemo)(()=>e.cloudSync(),[e]),[s,n]=(0,a.useState)("none");async function i(){n("checking");let t=await e.check();n(t?"success":"failed")}return t?(0,o.jsx)(M.h,{text:z.ZP.Settings.Sync.Config.Modal.Check,bordered:!0,onClick:i,icon:"none"===s?(0,o.jsx)(k.Z,{}):"checking"===s?(0,o.jsx)(x.Z,{}):"success"===s?(0,o.jsx)(P.Z,{}):"failed"===s?(0,o.jsx)(A,{}):(0,o.jsx)(k.Z,{})}):null}function ei(e){let t=(0,D.i)();return(0,o.jsx)("div",{className:"modal-mask",children:(0,o.jsxs)(w.u_,{title:z.ZP.Settings.Sync.Config.Modal.Title,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},actions:[(0,o.jsx)(en,{},"check"),(0,o.jsx)(M.h,{onClick:e.onClose,icon:(0,o.jsx)(C.Z,{}),bordered:!0,text:z.ZP.UI.Confirm},"confirm")],children:[(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.SyncType.Title,subTitle:z.ZP.Settings.Sync.Config.SyncType.SubTitle,children:(0,o.jsx)("select",{value:t.provider,onChange:e=>{t.update(t=>t.provider=e.target.value)},children:Object.entries(L.lP).map(e=>{let[t,s]=e;return(0,o.jsx)("option",{value:s,children:t},t)})})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.Proxy.Title,subTitle:z.ZP.Settings.Sync.Config.Proxy.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:t.useProxy,onChange:e=>{t.update(t=>t.useProxy=e.currentTarget.checked)}})}),t.useProxy?(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.ProxyUrl.Title,subTitle:z.ZP.Settings.Sync.Config.ProxyUrl.SubTitle,children:(0,o.jsx)("input",{type:"text",value:t.proxyUrl,onChange:e=>{t.update(t=>t.proxyUrl=e.currentTarget.value)}})}):null]}),t.provider===L.lP.WebDAV&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.WebDav.Endpoint,children:(0,o.jsx)("input",{type:"text",value:t.webdav.endpoint,onChange:e=>{t.update(t=>t.webdav.endpoint=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.WebDav.UserName,children:(0,o.jsx)("input",{type:"text",value:t.webdav.username,onChange:e=>{t.update(t=>t.webdav.username=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.WebDav.Password,children:(0,o.jsx)(w.WU,{value:t.webdav.password,onChange:e=>{t.update(t=>t.webdav.password=e.currentTarget.value)}})})]})}),t.provider===L.lP.UpStash&&(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.UpStash.Endpoint,children:(0,o.jsx)("input",{type:"text",value:t.upstash.endpoint,onChange:e=>{t.update(t=>t.upstash.endpoint=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.UpStash.UserName,children:(0,o.jsx)("input",{type:"text",value:t.upstash.username,placeholder:N.Uf,onChange:e=>{t.update(t=>t.upstash.username=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.Config.UpStash.Password,children:(0,o.jsx)(w.WU,{value:t.upstash.apiKey,onChange:e=>{t.update(t=>t.upstash.apiKey=e.currentTarget.value)}})})]})]})})}function el(){let e=(0,D.i)(),t=(0,E.aK)(),s=(0,R.f)(),n=(0,G.Zy)(),i=(0,a.useMemo)(()=>e.cloudSync(),[e]),[l,r]=(0,a.useState)(!1),c=(0,a.useMemo)(()=>{let e=t.sessions,i=e.reduce((e,t)=>e+t.messages.length,0);return{chat:e.length,message:i,prompt:Object.keys(s.prompts).length,mask:Object.keys(n.masks).length}},[t.sessions,n.masks,s.prompts]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.CloudState,subTitle:e.lastProvider?"".concat(new Date(e.lastSyncTime).toLocaleString()," [").concat(e.lastProvider,"]"):z.ZP.Settings.Sync.NotSyncYet,children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)(M.h,{icon:(0,o.jsx)(b,{}),text:z.ZP.UI.Config,onClick:()=>{r(!0)}}),i&&(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),text:z.ZP.UI.Sync,onClick:async()=>{try{await e.sync(),(0,w.CF)(z.ZP.Settings.Sync.Success)}catch(e){(0,w.CF)(z.ZP.Settings.Sync.Fail),console.error("[Sync]",e)}}})]})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Sync.LocalState,subTitle:z.ZP.Settings.Sync.Overview(c),children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)(M.h,{icon:(0,o.jsx)(S.Z,{}),text:z.ZP.UI.Export,onClick:()=>{e.export()}}),(0,o.jsx)(M.h,{icon:(0,o.jsx)(v.Z,{}),text:z.ZP.UI.Import,onClick:()=>{e.import()}})]})})]}),l&&(0,o.jsx)(ei,{onClose:()=>r(!1)})]})}function er(){var e,t,s,n,i;let l=(0,B.s0)(),[r,c]=(0,a.useState)(!1),p=(0,E.MG)(),g=p.update;!function(){let{syncStatus:e,hasError:t,modelCount:s}=Y();a.useEffect(()=>{"complete"!==e||t?t&&console.error("❌ Model sync failed:",e):console.log("✅ Model sync complete. ".concat(s," models loaded."))},[e,t,s])}();let m=(0,E.u2)(),[x,y]=(0,a.useState)(!1);m.formatVersion(m.version),m.formatVersion(m.remoteVersion),(null===(e=(0,K.Z)())||void 0===e?void 0:e.isApp)?N.cr:N.Cs;let v=(0,E._X)(),S=(0,a.useMemo)(()=>{let e=v.openaiUrl.includes(N.Bi);return v.hideBalanceQuery||e||v.provider===N.UT.Azure},[v.hideBalanceQuery,v.openaiUrl,v.provider]),j={used:m.used,subscription:m.subscription},[C,k]=(0,a.useState)(!1);function P(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S||(k(!0),m.updateUsage(e).finally(()=>{k(!1)}))}let T=(0,a.useMemo)(()=>v.enabledAccessControl(),[]),A=(0,R.f)(),H=R.o.count.builtin,U=null!==(t=A.getUserPrompts().length)&&void 0!==t?t:0,[O,D]=(0,a.useState)(!1),[V,G]=(0,a.useState)(!1),L=v.isAuthorized();(0,a.useEffect)(()=>{L&&P()},[]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l(N.y$.Home)};return(null==Q?void 0:Q.isApp)&&v.update(e=>{e.useCustomConfig=!0}),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let Q=(0,a.useMemo)(()=>(0,K.Z)(),[]),q=T&&!(null==Q?void 0:Q.isApp);return(0,o.jsxs)(F.S,{children:[(0,o.jsxs)("div",{className:"window-header","data-tauri-drag-region":!0,children:[(0,o.jsxs)("div",{className:"window-header-title",children:[(0,o.jsx)("div",{className:"window-header-main-title",children:z.ZP.Settings.Title}),(0,o.jsx)("div",{className:"window-header-sub-title",children:z.ZP.Settings.SubTitle})]}),(0,o.jsxs)("div",{className:"window-actions",children:[(0,o.jsx)("div",{className:"window-action-button"}),(0,o.jsx)("div",{className:"window-action-button"}),(0,o.jsx)("div",{className:"window-action-button",children:(0,o.jsx)(M.h,{icon:(0,o.jsx)(h.Z,{}),onClick:()=>l(N.y$.Home),bordered:!0})})]})]}),(0,o.jsxs)("div",{className:d().settings,children:[(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Avatar,children:(0,o.jsx)(w.J2,{onClose:()=>c(!1),content:(0,o.jsx)(W.aR,{onEmojiClick:e=>{g(t=>t.avatar=e),c(!1)}}),open:r,children:(0,o.jsx)("div",{className:d().avatar,onClick:()=>c(!0),children:(0,o.jsx)(W.qE,{avatar:p.avatar})})})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.SendKey,children:(0,o.jsx)(w.Ph,{value:p.submitKey,onChange:e=>{g(t=>t.submitKey=e.target.value)},children:Object.values(E.mQ).map(e=>(0,o.jsx)("option",{value:e,children:e},e))})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Theme,children:(0,o.jsx)(w.Ph,{value:p.theme,onChange:e=>{g(t=>t.theme=e.target.value)},children:Object.values(E.Q2).map(e=>(0,o.jsx)("option",{value:e,children:e},e))})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Lang.Name,children:(0,o.jsx)(w.Ph,{value:(0,z.VQ)(),onChange:e=>{(0,z.t4)(e.target.value)},children:z.DC.map(e=>(0,o.jsx)("option",{value:e,children:z.nW[e]},e))})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.FontSize.Title,subTitle:z.ZP.Settings.FontSize.SubTitle,children:(0,o.jsx)(I,{title:"".concat(null!==(s=p.fontSize)&&void 0!==s?s:14,"px"),value:p.fontSize,min:"12",max:"40",step:"1",onChange:e=>g(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.AutoGenerateTitle.Title,subTitle:z.ZP.Settings.AutoGenerateTitle.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:p.enableAutoGenerateTitle,onChange:e=>g(t=>t.enableAutoGenerateTitle=e.currentTarget.checked)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.SendPreviewBubble.Title,subTitle:z.ZP.Settings.SendPreviewBubble.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:p.sendPreviewBubble,onChange:e=>g(t=>t.sendPreviewBubble=e.currentTarget.checked)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Metrics.Title,subTitle:z.ZP.Settings.Metrics.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:p.metrics,onChange:e=>g(t=>t.metrics=e.currentTarget.checked)})})]}),(0,o.jsx)(el,{}),(0,o.jsx)(w.aV,{children:(0,o.jsx)(w.HC,{title:"Model Sync Status",subTitle:"Bedrock model configuration synchronization",children:(0,o.jsx)(M.h,{icon:V?(0,o.jsx)(h.Z,{}):(0,o.jsx)(b,{}),text:V?"Hide":"Show Status",onClick:()=>G(!V)})})}),V&&(0,o.jsx)("div",{style:{margin:"16px 0"},children:(0,o.jsx)($,{})}),(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Mask.Splash.Title,subTitle:z.ZP.Settings.Mask.Splash.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:!p.dontShowMaskSplashScreen,onChange:e=>g(t=>t.dontShowMaskSplashScreen=!e.currentTarget.checked)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Mask.Builtin.Title,subTitle:z.ZP.Settings.Mask.Builtin.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:p.hideBuiltinMasks,onChange:e=>g(t=>t.hideBuiltinMasks=e.currentTarget.checked)})})]}),(0,o.jsxs)(w.aV,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Prompt.Disable.Title,subTitle:z.ZP.Settings.Prompt.Disable.SubTitle,children:(0,o.jsx)("input",{type:"checkbox",checked:p.disablePromptHint,onChange:e=>g(t=>t.disablePromptHint=e.currentTarget.checked)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Prompt.List,subTitle:z.ZP.Settings.Prompt.ListCount(H,U),children:(0,o.jsx)(M.h,{icon:(0,o.jsx)(f.Z,{}),text:z.ZP.Settings.Prompt.Edit,onClick:()=>D(!0)})})]}),(0,o.jsxs)(w.aV,{id:N.ym.CustomModel,children:[q&&(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AccessCode.Title,subTitle:z.ZP.Settings.Access.AccessCode.SubTitle,children:(0,o.jsx)(w.WU,{value:v.accessCode,type:"text",placeholder:z.ZP.Settings.Access.AccessCode.Placeholder,onChange:e=>{v.update(t=>t.accessCode=e.currentTarget.value)}})}),!v.hideUserApiKey&&(0,o.jsxs)(o.Fragment,{children:[!(null==Q?void 0:Q.isApp)&&(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.CustomEndpoint.Title,subTitle:z.ZP.Settings.Access.CustomEndpoint.SubTitle}),v.useCustomConfig&&(0,o.jsx)(o.Fragment,{children:"AWS"!==v.provider||v.awsCognitoUser?"OpenAI"===v.provider?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.OpenAI.Endpoint.Title,subTitle:z.ZP.Settings.Access.OpenAI.Endpoint.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.openaiUrl,placeholder:N.Bi,onChange:e=>v.update(t=>t.openaiUrl=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.OpenAI.ApiKey.Title,subTitle:z.ZP.Settings.Access.OpenAI.ApiKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.openaiApiKey,type:"text",placeholder:z.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,onChange:e=>{v.update(t=>t.openaiApiKey=e.currentTarget.value)}})})]}):"Azure"===v.provider?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Azure.Endpoint.Title,subTitle:z.ZP.Settings.Access.Azure.Endpoint.SubTitle+N.kn.ExampleEndpoint,children:(0,o.jsx)("input",{type:"text",value:v.azureUrl,placeholder:N.kn.ExampleEndpoint,onChange:e=>v.update(t=>t.azureUrl=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Azure.ApiKey.Title,subTitle:z.ZP.Settings.Access.Azure.ApiKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.azureApiKey,type:"text",placeholder:z.ZP.Settings.Access.Azure.ApiKey.Placeholder,onChange:e=>{v.update(t=>t.azureApiKey=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Azure.ApiVerion.Title,subTitle:z.ZP.Settings.Access.Azure.ApiVerion.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.azureApiVersion,placeholder:"2023-08-01-preview",onChange:e=>v.update(t=>t.azureApiVersion=e.currentTarget.value)})})]}):"Google"===v.provider?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Google.Endpoint.Title,subTitle:z.ZP.Settings.Access.Google.Endpoint.SubTitle+N.ie.ExampleEndpoint,children:(0,o.jsx)("input",{type:"text",value:v.googleUrl,placeholder:N.ie.ExampleEndpoint,onChange:e=>v.update(t=>t.googleUrl=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Google.ApiKey.Title,subTitle:z.ZP.Settings.Access.Google.ApiKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.googleApiKey,type:"text",placeholder:z.ZP.Settings.Access.Google.ApiKey.Placeholder,onChange:e=>{v.update(t=>t.googleApiKey=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.Google.ApiVersion.Title,subTitle:z.ZP.Settings.Access.Google.ApiVersion.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.googleApiVersion,placeholder:"2023-08-01-preview",onChange:e=>v.update(t=>t.googleApiVersion=e.currentTarget.value)})})]}):null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(w.HC,{title:z.ZP.Settings.Access.BRProxy.Title,subTitle:z.ZP.Settings.Access.BRProxy.SubTitle,children:[(0,o.jsx)("a",{href:"https://github.com/aws-samples/sample-connector-for-bedrock",target:"_blank",children:(0,o.jsx)(M.h,{text:"BRConnector",icon:(0,o.jsx)(_.Z,{}),bordered:!0})}),(0,o.jsx)("input",{type:"checkbox",checked:"True"===v.useBRProxy,onChange:e=>v.update(t=>{t.useBRProxy=e.currentTarget.checked?"True":"False"})})]}),"False"===v.useBRProxy?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.BedRockEndpoint.Title,subTitle:z.ZP.Settings.Access.AWS.BedRockEndpoint.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.bedrockEndpoint,onChange:e=>v.update(t=>t.bedrockEndpoint=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.Region.Title,subTitle:z.ZP.Settings.Access.AWS.Region.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.awsRegion,placeholder:z.ZP.Settings.Access.AWS.Region.Placeholder,onChange:e=>v.update(t=>t.awsRegion=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.AccessKey.Title,subTitle:z.ZP.Settings.Access.AWS.AccessKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.awsAccessKeyId,type:"text",placeholder:z.ZP.Settings.Access.AWS.AccessKey.Placeholder,onChange:e=>{v.update(t=>t.awsAccessKeyId=e.currentTarget.value)}})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.SecretKey.Title,subTitle:z.ZP.Settings.Access.AWS.SecretKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.awsSecretAccessKey,type:"text",placeholder:z.ZP.Settings.Access.AWS.SecretKey.Placeholder,onChange:e=>{v.update(t=>t.awsSecretAccessKey=e.currentTarget.value)}})})]}):"True"===v.useBRProxy?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.Endpoint.Title,subTitle:z.ZP.Settings.Access.AWS.Endpoint.SubTitle,children:(0,o.jsx)("input",{type:"text",value:v.BRProxyUrl,placeholder:N.PM.ExampleEndpoint,onChange:e=>v.update(t=>t.BRProxyUrl=e.currentTarget.value)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.AWS.ApiKey.Title,subTitle:z.ZP.Settings.Access.AWS.ApiKey.SubTitle,children:(0,o.jsx)(w.WU,{value:v.openaiApiKey,type:"text",placeholder:z.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,onChange:e=>{v.update(t=>t.openaiApiKey=e.currentTarget.value)}})})]}):null]})})]}),S||(null==Q?void 0:Q.isApp)?null:(0,o.jsx)(w.HC,{title:z.ZP.Settings.Usage.Title,subTitle:L?C?z.ZP.Settings.Usage.IsChecking:z.ZP.Settings.Usage.SubTitle(null!==(n=null==j?void 0:j.used)&&void 0!==n?n:"[?]",null!==(i=null==j?void 0:j.subscription)&&void 0!==i?i:"[?]"):z.ZP.Settings.Usage.NoAccess,children:!L||C?(0,o.jsx)("div",{}):(0,o.jsx)(M.h,{icon:(0,o.jsx)(u.Z,{}),text:z.ZP.Settings.Usage.Check,onClick:()=>P(!0)})}),(0,o.jsx)(w.HC,{title:z.ZP.Settings.Access.CustomModel.Title,subTitle:z.ZP.Settings.Access.CustomModel.SubTitle,children:(0,o.jsx)("input",{type:"text",value:p.customModels,placeholder:"model1,model2,model3",onChange:e=>p.update(t=>t.customModels=e.currentTarget.value)})})]}),(0,o.jsx)(w.aV,{children:(0,o.jsx)(Z.j,{modelConfig:p.modelConfig,updateConfig:e=>{let t={...p.modelConfig};e(t),p.update(e=>e.modelConfig=t)}})}),O&&(0,o.jsx)(ee,{onClose:()=>D(!1)}),(0,o.jsx)(es,{}),(0,o.jsx)(et,{})]})]})}},43328:function(e,t,s){var n=s(28611);s(35449);var i=s(86006),l=i&&"object"==typeof i&&"default"in i?i:{default:i};function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=void 0!==n&&n.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(){function e(e){var t=void 0===e?{}:e,s=t.name,n=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,l=void 0===i?o:i;d(a(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",d("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var r=document.querySelector('meta[property="csp-nonce"]');this._nonce=r?r.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(d(a(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed){var s=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(n){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];d(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},s.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},s.cssRules=function(){var e=this;return this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&d(a(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(n,s):i.appendChild(n),n},r(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),t&&r(e,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},p={};function h(e,t){if(!t)return"jsx-"+e;var s=String(t),n=e+s;return p[n]||(p[n]="jsx-"+u(e+"-"+s)),p[n]}function g(e,t){var s=e+t;return p[s]||(p[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),p[s]}var m=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,n=void 0===s?null:s,i=t.optimizeForSpeed,l=void 0!==i&&i;this._sheet=n||new c({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),n&&"boolean"==typeof l&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),n=s.styleId,i=s.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var l=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=l,this._instancesCounts[n]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var n=this._fromServer&&this._fromServer[s];n?(n.parentNode.removeChild(n),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],n=e[1];return l.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,n=e.id;if(s){var i=h(n,s);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return g(i,e)}):[g(i,t)]}}return{styleId:h(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),x=i.createContext(null);x.displayName="StyleSheetContext";var f=l.default.useInsertionEffect||l.default.useLayoutEffect,y=new m;function v(e){var t=y||i.useContext(x);return t&&f(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}v.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=v},85444:function(e,t,s){"use strict";e.exports=s(43328).style},83287:function(e){e.exports={"input-range":"input-range_input-range__SuxRd"}},71913:function(e){e.exports={settings:"settings_settings__427bK",avatar:"settings_avatar__jO3Wv","edit-prompt-modal":"settings_edit-prompt-modal__iP1gi","edit-prompt-title":"settings_edit-prompt-title__mq8os","edit-prompt-content":"settings_edit-prompt-content__9i9Y_","user-prompt-modal":"settings_user-prompt-modal__YWssH","user-prompt-search":"settings_user-prompt-search__kskD_","user-prompt-list":"settings_user-prompt-list__BrWRy","user-prompt-item":"settings_user-prompt-item__kh_6Q","user-prompt-header":"settings_user-prompt-header__MBMAf","user-prompt-title":"settings_user-prompt-title__BpRs1","user-prompt-content":"settings_user-prompt-content__CxL3R","user-prompt-buttons":"settings_user-prompt-buttons__y5Hf_","user-prompt-button":"settings_user-prompt-button__efhSx"}},35449:function(){}}]);