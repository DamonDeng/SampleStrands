"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7050],{67050:function(e,t,s){s.r(t),s.d(t,{PythonTest:function(){return c}});var r=s(9268),n=s(86006);let i=()=>void 0!==window.__TAURI__;class o{static async executeWithArgs(e){if(!i())return this.simulatePythonProcessing(e);try{let{invoke:t}=window.__TAURI__||{};if(!t)throw Error("Tauri shell API not available");let s=await t("plugin:shell|execute",{program:this.pythonPath,args:[this.scriptPath,"--input",e],options:{cwd:null,env:null}});if(0===s.code)try{return JSON.parse(s.stdout)}catch(e){throw Error("Failed to parse Python output: ".concat(e))}else throw Error("Python script failed with code ".concat(s.code,": ").concat(s.stderr))}catch(t){console.error("Python execution error:",t);try{let{Command:t}=await s.e(3405).then(s.bind(s,93405)),r=t.create(this.pythonPath,[this.scriptPath,"--input",e]),n=await r.execute();if(0===n.code)try{return JSON.parse(n.stdout)}catch(e){throw Error("Failed to parse Python output: ".concat(e))}else throw Error("Python script failed with code ".concat(n.code,": ").concat(n.stderr))}catch(e){return console.error("Both Tauri v1 and v2 approaches failed:",e),{status:"error",error:t instanceof Error?t.message:String(t),timestamp:new Date().toISOString()}}}}static async simulatePythonProcessing(e){return await new Promise(e=>setTimeout(e,500)),{status:"success",original_input:e,processed_output:"Processed: ".concat(e),length:e.length,uppercase:e.toUpperCase(),reversed:e.split("").reverse().join(""),timestamp:new Date().toISOString()}}static async testConnection(){if(!i())return!0;try{let e=await this.executeWithArgs("test connection");return"success"===e.status}catch(e){return!1}}static async getInfo(){if(!i())return{pythonVersion:"Python 3.x (Simulated in Web)",scriptPath:this.scriptPath,isWorking:!0};try{let{invoke:e}=window.__TAURI__||{};if(e)try{let t=await e("plugin:shell|execute",{program:this.pythonPath,args:["--version"],options:{cwd:null,env:null}}),s=await this.testConnection();return{pythonVersion:0===t.code?t.stdout.trim():void 0,scriptPath:this.scriptPath,isWorking:s}}catch(e){console.log("Tauri v1 API failed, trying v2...",e)}let{Command:t}=await s.e(3405).then(s.bind(s,93405)),r=t.create(this.pythonPath,["--version"]),n=await r.execute(),i=await this.testConnection();return{pythonVersion:0===n.code?n.stdout.trim():void 0,scriptPath:this.scriptPath,isWorking:i}}catch(e){return console.error("Failed to get Python info:",e),{scriptPath:this.scriptPath,isWorking:!1}}}}async function a(e){return o.executeWithArgs(e)}function c(){let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(null),[c,l]=(0,n.useState)(!1),[d,h]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),[g,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m(void 0!==window.__TAURI__)},[]);let x=async t=>{if(t.preventDefault(),e.trim()){l(!0),h(null);try{let t=await a(e);i(t),"error"===t.status&&h(t.error||"Unknown Python error")}catch(e){h(e instanceof Error?e.message:String(e))}finally{l(!1)}}},y=async()=>{l(!0),h(null);try{let e=await o.getInfo();p(e),e.isWorking||h("Python script is not working correctly")}catch(e){h(e instanceof Error?e.message:String(e))}finally{l(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Python Integration Test"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border-b pb-4",children:[(0,r.jsx)("button",{onClick:y,disabled:c,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:c?"Testing...":"Test Python Connection"}),u&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Python Version:"})," ",u.pythonVersion||"Unknown"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Script Path:"})," ",u.scriptPath]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Status:"}),(0,r.jsx)("span",{className:"ml-2 font-semibold ".concat(u.isWorking?"text-green-600":"text-red-600"),children:u.isWorking?"✅ Working":"❌ Not Working"})]})]})]}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pythonInput",className:"block text-sm font-medium text-gray-700 mb-2",children:"Send text to Python:"}),(0,r.jsx)("textarea",{id:"pythonInput",value:e,onChange:e=>t(e.target.value),placeholder:"Type your message here...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),(0,r.jsx)("button",{type:"submit",disabled:c||!e.trim(),className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:c?"Processing...":"Send to Python"})]}),d&&(0,r.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[(0,r.jsx)("p",{className:"text-red-800 font-semibold",children:"Error:"}),(0,r.jsx)("p",{className:"text-red-700",children:d})]}),s&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Python Response:"}),(0,r.jsx)("div",{className:"p-4 rounded-md border ".concat("success"===s.status?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Status:"}),(0,r.jsx)("span",{className:"ml-2 ".concat("success"===s.status?"text-green-700":"text-red-700"),children:s.status})]}),s.original_input&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Original Input:"}),(0,r.jsx)("div",{className:"text-gray-600 mt-1",children:s.original_input})]}),s.processed_output&&(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("strong",{children:"Processed Output:"}),(0,r.jsx)("div",{className:"text-gray-700 mt-1 font-mono",children:s.processed_output})]}),void 0!==s.length&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Length:"})," ",s.length]}),s.uppercase&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Uppercase:"}),(0,r.jsx)("div",{className:"text-gray-600 mt-1",children:s.uppercase})]}),s.reversed&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Reversed:"}),(0,r.jsx)("div",{className:"text-gray-600 mt-1 font-mono",children:s.reversed})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("strong",{children:"Timestamp:"})," ",new Date(s.timestamp).toLocaleString()]}),s.error&&(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("strong",{children:"Error:"}),(0,r.jsx)("div",{className:"text-red-600 mt-1",children:s.error})]})]})})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 border-t pt-4",children:[(0,r.jsxs)("div",{className:"mb-3 p-3 rounded-md ".concat(g?"bg-green-50 border border-green-200":"bg-blue-50 border border-blue-200"),children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:g?"\uD83D\uDE80 Running in Tauri Desktop Mode":"\uD83C\uDF10 Running in Web Mode"}),(0,r.jsx)("p",{className:"text-xs",children:g?"Connected to actual Python backend via Tauri shell commands.":"Using simulated Python processing for web environment. Install and run as Tauri app for real Python integration."})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"How it works:"}),g?" This demo sends your text to a Python script via Tauri's shell commands, processes it, and returns structured JSON data back to TypeScript.":" In web mode, this demo simulates Python processing locally. When running as a Tauri desktop app, it will connect to actual Python scripts."]})]})]})]})}o.pythonPath="python3",o.scriptPath="./python/main_entry.py"}}]);