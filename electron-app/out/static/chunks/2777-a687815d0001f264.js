"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2777],{32777:function(e,t,s){s.r(t),s.d(t,{MCPClientTest:function(){return n}});var r=s(9268),a=s(86006);function n(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)("node"),[m,p]=(0,a.useState)("server.js"),[x,g]=(0,a.useState)("example-prompt"),[b,h]=(0,a.useState)('{"arg1": "value"}'),[y,f]=(0,a.useState)("file:///example.txt"),[j,N]=(0,a.useState)("example-tool"),[v,w]=(0,a.useState)('{"arg1": "value"}'),[C,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S(!0)},[]);let T=(e,t,s,r)=>{let a={operation:e,status:t,data:s,error:r,timestamp:new Date().toISOString()};return c(e=>[a,...e]),a},P=async()=>{o(!0);let e=T("Connect to MCP Server","pending");try{if(C)throw Error("StdioClientTransport is not supported in browser environments. This transport requires Node.js process spawning capabilities.");throw Error("StdioClientTransport is not available in this environment.")}catch(t){n(!1),c(s=>s.map(s=>s===e?{...s,status:"error",error:t instanceof Error?t.message:String(t)}:s))}finally{o(!1)}},k=async()=>{if(e)try{await e.close(),t(null),n(!1),T("Disconnect from MCP Server","success","Disconnected successfully")}catch(e){T("Disconnect from MCP Server","error",null,e instanceof Error?e.message:String(e))}},R=async()=>{if(!e||!s){T("List Prompts","error",null,"Client not connected");return}o(!0);let t=T("List Prompts","pending");try{let s=await e.listPrompts();c(e=>e.map(e=>e===t?{...e,status:"success",data:s}:e))}catch(e){c(s=>s.map(s=>s===t?{...s,status:"error",error:e instanceof Error?e.message:String(e)}:s))}finally{o(!1)}},E=async()=>{if(!e||!s){T("Get Prompt","error",null,"Client not connected");return}o(!0);let t=T("Get Prompt","pending");try{let s;try{s=JSON.parse(b)}catch(e){s={arg1:b}}let r=await e.getPrompt({name:x,arguments:s});c(e=>e.map(e=>e===t?{...e,status:"success",data:r}:e))}catch(e){c(s=>s.map(s=>s===t?{...s,status:"error",error:e instanceof Error?e.message:String(e)}:s))}finally{o(!1)}},D=async()=>{if(!e||!s){T("List Resources","error",null,"Client not connected");return}o(!0);let t=T("List Resources","pending");try{let s=await e.listResources();c(e=>e.map(e=>e===t?{...e,status:"success",data:s}:e))}catch(e){c(s=>s.map(s=>s===t?{...s,status:"error",error:e instanceof Error?e.message:String(e)}:s))}finally{o(!1)}},M=async()=>{if(!e||!s){T("Read Resource","error",null,"Client not connected");return}o(!0);let t=T("Read Resource","pending");try{let s=await e.readResource({uri:y});c(e=>e.map(e=>e===t?{...e,status:"success",data:s}:e))}catch(e){c(s=>s.map(s=>s===t?{...s,status:"error",error:e instanceof Error?e.message:String(e)}:s))}finally{o(!1)}},L=async()=>{if(!e||!s){T("Call Tool","error",null,"Client not connected");return}o(!0);let t=T("Call Tool","pending");try{let s;try{s=JSON.parse(v)}catch(e){s={arg1:v}}let r=await e.callTool({name:j,arguments:s});c(e=>e.map(e=>e===t?{...e,status:"success",data:r}:e))}catch(e){c(s=>s.map(s=>s===t?{...s,status:"error",error:e instanceof Error?e.message:String(e)}:s))}finally{o(!1)}};return(0,a.useEffect)(()=>()=>{e&&s&&e.close().catch(console.error)},[e,s]),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"MCP Client Test"}),(0,r.jsxs)("div",{className:"space-y-6",children:[C&&(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-md",children:[(0,r.jsx)("p",{className:"font-semibold text-yellow-800 mb-2",children:"⚠️ Browser Environment Detected"}),(0,r.jsx)("p",{className:"text-yellow-700 text-sm",children:"You are running in a browser environment. The StdioClientTransport requires Node.js process spawning capabilities and will not work here. This interface demonstrates the MCP client API structure, but actual connections require a server-side implementation or alternative transport methods like WebSocket."})]}),(0,r.jsxs)("div",{className:"border-b pb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Server Connection"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Server Command:"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),disabled:s,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"node"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Server Arguments:"}),(0,r.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),disabled:s,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"server.js"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:P,disabled:l||s,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:l?"Connecting...":"Connect"}),(0,r.jsx)("button",{onClick:k,disabled:!s,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:"Disconnect"}),(0,r.jsx)("div",{className:"px-3 py-2 rounded font-semibold ".concat(s?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:s?"✅ Connected":"❌ Not Connected"})]})]}),(0,r.jsxs)("div",{className:"border-b pb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Test Operations"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-600",children:"Prompts"}),(0,r.jsx)("button",{onClick:R,disabled:!s||l,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:"List Prompts"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Prompt name"}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>h(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Arguments (JSON)"}),(0,r.jsx)("button",{onClick:E,disabled:!s||l,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:"Get Prompt"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-600",children:"Resources"}),(0,r.jsx)("button",{onClick:D,disabled:!s||l,className:"w-full px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50",children:"List Resources"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Resource URI"}),(0,r.jsx)("button",{onClick:M,disabled:!s||l,className:"w-full px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50",children:"Read Resource"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 md:col-span-2",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-600",children:"Tools"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,r.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),className:"p-2 border border-gray-300 rounded-md text-sm",placeholder:"Tool name"}),(0,r.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"p-2 border border-gray-300 rounded-md text-sm",placeholder:"Arguments (JSON)"}),(0,r.jsx)("button",{onClick:L,disabled:!s||l,className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50",children:"Call Tool"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Test Results"}),(0,r.jsx)("button",{onClick:()=>{c([])},className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm",children:"Clear Results"})]}),(0,r.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===i.length?(0,r.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No test results yet. Try connecting and running some operations!"}):i.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 rounded-md border ".concat("success"===e.status?"bg-green-50 border-green-200":"error"===e.status?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-800",children:e.operation}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat("success"===e.status?"text-green-700":"error"===e.status?"text-red-700":"text-yellow-700"),children:e.status.toUpperCase()})]}),e.error&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("strong",{className:"text-red-800",children:"Error:"}),(0,r.jsx)("p",{className:"text-red-700 text-sm",children:e.error})]}),e.data&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("strong",{className:"text-gray-800",children:"Data:"}),(0,r.jsx)("pre",{className:"text-sm bg-gray-100 p-2 rounded mt-1 overflow-x-auto",children:"string"==typeof e.data?e.data:JSON.stringify(e.data,null,2)})]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]},t))})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500 border-t pt-4",children:(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-md",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"\uD83D\uDCDD Note about MCP Client Testing"}),(0,r.jsx)("p",{className:"text-xs",children:"This is a demonstration of MCP client functionality. In a web environment, the StdioClientTransport cannot work as it requires Node.js process spawning capabilities. For production use in web browsers, you would need a different transport mechanism such as:"}),(0,r.jsxs)("ul",{className:"text-xs mt-2 ml-4 list-disc",children:[(0,r.jsx)("li",{children:"WebSocket transport to communicate with a WebSocket-enabled MCP server"}),(0,r.jsx)("li",{children:"HTTP transport for REST-based MCP communication"}),(0,r.jsx)("li",{children:"Server-side proxy that handles the stdio communication"})]})]})})]})]})}s(82362)}}]);